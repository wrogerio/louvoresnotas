import{b as dp,c as fp,f as FD,g as hp}from"./chunk-LJ5XHLMQ.js";import{a as w,b as L,d as Qt,f as kD,g as PD,h}from"./chunk-FK42CRUA.js";var Hh=Qt(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});var Bh=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Uh.default=Bh});var qh=Qt(hs=>{"use strict";var Cw=hs&&hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});var Cx=Cw((hp(),PD(FD))),Ex=Cw(Hh()),zh=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Cx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,l;let c=null,u=null,d=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let x=yield i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}let _=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let _=yield i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(u=[],c=null,p=200,f="OK")}catch{i.status===404&&_===""?(p=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new Ex.default(c)}return{error:c,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,l;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,t)}returns(){return this}overrideTypes(){return this}};hs.default=zh});var Wh=Qt(ps=>{"use strict";var Ix=ps&&ps.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ps,"__esModule",{value:!0});var Sx=Ix(qh()),Gh=class extends Sx.default{select(n){let t=!1,r=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let l=[n?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ps.default=Gh});var _c=Qt(gs=>{"use strict";var Mx=gs&&gs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});var Tx=Mx(Wh()),Zh=class extends Tx.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${i}fts${s}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};gs.default=Zh});var Yh=Qt(vs=>{"use strict";var xx=vs&&vs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});var ms=xx(_c()),Kh=class{constructor(n,{headers:t={},schema:r,fetch:o}){this.url=n,this.headers=t,this.schema=r,this.fetch=o}select(n,{head:t=!1,count:r}={}){let o=t?"HEAD":"GET",i=!1,s=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new ms.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(n)){let s=n.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){let a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ms.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(n)){let l=n.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ms.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),this.headers.Prefer=o.join(","),new ms.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ms.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vs.default=Kh});var Ew=Qt(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.version=void 0;wc.version="0.0.0-automated"});var Iw=Qt(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.DEFAULT_HEADERS=void 0;var Ax=Ew();Dc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ax.version}`}});var Mw=Qt(ys=>{"use strict";var Sw=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ys,"__esModule",{value:!0});var Nx=Sw(Yh()),Rx=Sw(_c()),Ox=Iw(),Qh=class e{constructor(n,{headers:t={},schema:r,fetch:o}={}){this.url=n,this.headers=Object.assign(Object.assign({},Ox.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=o}from(n){let t=new URL(`${this.url}/${n}`);return new Nx.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${n}`),l;r||o?(s=r?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=t);let c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Rx.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ys.default=Qh});var kw=Qt(Se=>{"use strict";var Ro=Se&&Se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;var Tw=Ro(Mw());Se.PostgrestClient=Tw.default;var xw=Ro(Yh());Se.PostgrestQueryBuilder=xw.default;var Aw=Ro(_c());Se.PostgrestFilterBuilder=Aw.default;var Nw=Ro(Wh());Se.PostgrestTransformBuilder=Nw.default;var Rw=Ro(qh());Se.PostgrestBuilder=Rw.default;var Ow=Ro(Hh());Se.PostgrestError=Ow.default;Se.default={PostgrestClient:Tw.default,PostgrestQueryBuilder:xw.default,PostgrestFilterBuilder:Aw.default,PostgrestTransformBuilder:Nw.default,PostgrestBuilder:Rw.default,PostgrestError:Ow.default}});function tu(e,n){return Object.is(e,n)}var ve=null,Os=!1,nu=1,Qe=Symbol("SIGNAL");function j(e){let n=ve;return ve=e,n}function ru(){return ve}var Wo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zo(e){if(Os)throw new Error("");if(ve===null)return;ve.consumerOnSignalRead(e);let n=ve.nextProducerIndex++;if(Ls(ve),n<ve.producerNode.length&&ve.producerNode[n]!==e&&Go(ve)){let t=ve.producerNode[n];Fs(t,ve.producerIndexOfThis[n])}ve.producerNode[n]!==e&&(ve.producerNode[n]=e,ve.producerIndexOfThis[n]=Go(ve)?gp(e,ve,n):0),ve.producerLastReadVersion[n]=e.version}function pp(){nu++}function ou(e){if(!(Go(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===nu)){if(!e.producerMustRecompute(e)&&!lu(e)){eu(e);return}e.producerRecomputeValue(e),eu(e)}}function iu(e){if(e.liveConsumerNode===void 0)return;let n=Os;Os=!0;try{for(let t of e.liveConsumerNode)t.dirty||LD(t)}finally{Os=n}}function su(){return ve?.consumerAllowSignalWrites!==!1}function LD(e){e.dirty=!0,iu(e),e.consumerMarkedDirty?.(e)}function eu(e){e.dirty=!1,e.lastCleanEpoch=nu}function Ps(e){return e&&(e.nextProducerIndex=0),j(e)}function au(e,n){if(j(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Go(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Fs(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function lu(e){Ls(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(ou(t),r!==t.version))return!0}return!1}function cu(e){if(Ls(e),Go(e))for(let n=0;n<e.producerNode.length;n++)Fs(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function gp(e,n,t){if(mp(e),e.liveConsumerNode.length===0&&vp(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=gp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Fs(e,n){if(mp(e),e.liveConsumerNode.length===1&&vp(e))for(let r=0;r<e.producerNode.length;r++)Fs(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];Ls(o),o.producerIndexOfThis[r]=n}}function Go(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ls(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function mp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function vp(e){return e.producerNode!==void 0}function uu(e,n){let t=Object.create(jD);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(ou(t),Zo(t),t.value===ks)throw t.error;return t.value};return r[Qe]=t,r}var Jc=Symbol("UNSET"),Xc=Symbol("COMPUTING"),ks=Symbol("ERRORED"),jD=L(w({},Wo),{value:Jc,dirty:!0,error:null,equal:tu,kind:"computed",producerMustRecompute(e){return e.value===Jc||e.value===Xc},producerRecomputeValue(e){if(e.value===Xc)throw new Error("Detected cycle in computations.");let n=e.value;e.value=Xc;let t=Ps(e),r,o=!1;try{r=e.computation(),j(null),o=n!==Jc&&n!==ks&&r!==ks&&e.equal(n,r)}catch(i){r=ks,e.error=i}finally{au(e,t)}if(o){e.value=n;return}e.value=r,e.version++}});function VD(){throw new Error}var yp=VD;function _p(e){yp(e)}function du(e){yp=e}var $D=null;function fu(e,n){let t=Object.create(js);t.value=e,n!==void 0&&(t.equal=n);let r=()=>(Zo(t),t.value);return r[Qe]=t,r}function Ko(e,n){su()||_p(e),e.equal(e.value,n)||(e.value=n,BD(e))}function hu(e,n){su()||_p(e),Ko(e,n(e.value))}var js=L(w({},Wo),{equal:tu,value:void 0,kind:"signal"});function BD(e){e.version++,pp(),iu(e),$D?.()}function pu(e){let n=j(null);try{return e()}finally{j(n)}}var gu;function Yo(){return gu}function Jt(e){let n=gu;return gu=e,n}var Vs=Symbol("NotFound");function R(e){return typeof e=="function"}function xr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $s=xr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qo(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var ue=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(i){n=i instanceof $s?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{wp(i)}catch(s){n=n??[],s instanceof $s?n=[...n,...s.errors]:n.push(s)}}if(n)throw new $s(n)}}add(n){var t;if(n&&n!==this)if(this.closed)wp(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Qo(t,n)}remove(n){let{_finalizers:t}=this;t&&Qo(t,n),n instanceof e&&n._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var mu=ue.EMPTY;function Bs(e){return e instanceof ue||e&&"closed"in e&&R(e.remove)&&R(e.add)&&R(e.unsubscribe)}function wp(e){R(e)?e():e.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ar={setTimeout(e,n,...t){let{delegate:r}=Ar;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Ar;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Us(e){Ar.setTimeout(()=>{let{onUnhandledError:n}=pt;if(n)n(e);else throw e})}function Jo(){}var Dp=vu("C",void 0,void 0);function bp(e){return vu("E",void 0,e)}function Cp(e){return vu("N",e,void 0)}function vu(e,n,t){return{kind:e,value:n,error:t}}var Hn=null;function Nr(e){if(pt.useDeprecatedSynchronousErrorHandling){let n=!Hn;if(n&&(Hn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Hn;if(Hn=null,t)throw r}}else e()}function Ep(e){pt.useDeprecatedSynchronousErrorHandling&&Hn&&(Hn.errorThrown=!0,Hn.error=e)}var zn=class extends ue{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Bs(n)&&n.add(this)):this.destination=WD}static create(n,t,r){return new Rr(n,t,r)}next(n){this.isStopped?_u(Cp(n),this):this._next(n)}error(n){this.isStopped?_u(bp(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?_u(Dp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qD=Function.prototype.bind;function yu(e,n){return qD.call(e,n)}var wu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Hs(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Hs(r)}else Hs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Hs(t)}}},Rr=class extends zn{constructor(n,t,r){super();let o;if(R(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&pt.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&yu(n.next,i),error:n.error&&yu(n.error,i),complete:n.complete&&yu(n.complete,i)}):o=n}this.destination=new wu(o)}};function Hs(e){pt.useDeprecatedSynchronousErrorHandling?Ep(e):Us(e)}function GD(e){throw e}function _u(e,n){let{onStoppedNotification:t}=pt;t&&Ar.setTimeout(()=>t(e,n))}var WD={closed:!0,next:Jo,error:GD,complete:Jo};var Or=typeof Symbol=="function"&&Symbol.observable||"@@observable";function He(e){return e}function Du(...e){return bu(e)}function bu(e){return e.length===0?He:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var Y=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=KD(t)?t:new Rr(t,r,o);return Nr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Ip(r),new r((o,i)=>{let s=new Rr({next:a=>{try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Or](){return this}pipe(...t){return bu(t)(this)}toPromise(t){return t=Ip(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function Ip(e){var n;return(n=e??pt.Promise)!==null&&n!==void 0?n:Promise}function ZD(e){return e&&R(e.next)&&R(e.error)&&R(e.complete)}function KD(e){return e&&e instanceof zn||ZD(e)&&Bs(e)}function Cu(e){return R(e?.lift)}function Z(e){return n=>{if(Cu(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(e,n,t,r,o){return new Eu(e,n,t,r,o)}var Eu=class extends zn{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function kr(){return Z((e,n)=>{let t=null;e._refCount++;let r=H(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Pr=class extends Y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Cu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ue;let t=this.getSubject();n.add(this.source.subscribe(H(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ue.EMPTY)}return n}refCount(){return kr()(this)}};var Sp=xr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new zs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Sp}next(t){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?mu:(this.currentObservers=null,i.push(t),new ue(()=>{this.currentObservers=null,Qo(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return e.create=(n,t)=>new zs(n,t),e})(),zs=class extends de{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:mu}};var Ee=class extends de{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Oe=new Y(e=>e.complete());function Mp(e){return e&&R(e.schedule)}function Tp(e){return e[e.length-1]}function qs(e){return R(Tp(e))?e.pop():void 0}function wn(e){return Mp(Tp(e))?e.pop():void 0}function Ap(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function xp(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function qn(e){return this instanceof qn?(this.v=e,this):new qn(e)}function Np(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(_){return new Promise(function(C,x){i.push([f,_,C,x])>1||l(f,_)})},g&&(o[f]=g(o[f])))}function l(f,g){try{c(r[f](g))}catch(_){p(i[0][3],_)}}function c(f){f.value instanceof qn?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,g){f(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Rp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof xp=="function"?xp(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}var Gs=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ws(e){return R(e?.then)}function Zs(e){return R(e[Or])}function Ks(e){return Symbol.asyncIterator&&R(e?.[Symbol.asyncIterator])}function Ys(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qs=YD();function Js(e){return R(e?.[Qs])}function Xs(e){return Np(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield qn(t.read());if(o)return yield qn(void 0);yield yield qn(r)}}finally{t.releaseLock()}})}function ea(e){return R(e?.getReader)}function fe(e){if(e instanceof Y)return e;if(e!=null){if(Zs(e))return QD(e);if(Gs(e))return JD(e);if(Ws(e))return XD(e);if(Ks(e))return Op(e);if(Js(e))return e0(e);if(ea(e))return t0(e)}throw Ys(e)}function QD(e){return new Y(n=>{let t=e[Or]();if(R(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JD(e){return new Y(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function XD(e){return new Y(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Us)})}function e0(e){return new Y(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Op(e){return new Y(n=>{n0(e,n).catch(t=>n.error(t))})}function t0(e){return Op(Xs(e))}function n0(e,n){var t,r,o,i;return Ap(this,void 0,void 0,function*(){try{for(t=Rp(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function ke(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function ta(e,n=0){return Z((t,r)=>{t.subscribe(H(r,o=>ke(r,e,()=>r.next(o),n),()=>ke(r,e,()=>r.complete(),n),o=>ke(r,e,()=>r.error(o),n)))})}function na(e,n=0){return Z((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function kp(e,n){return fe(e).pipe(na(n),ta(n))}function Pp(e,n){return fe(e).pipe(na(n),ta(n))}function Fp(e,n){return new Y(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Lp(e,n){return new Y(t=>{let r;return ke(t,n,()=>{r=e[Qs](),ke(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>R(r?.return)&&r.return()})}function ra(e,n){if(!e)throw new Error("Iterable cannot be null");return new Y(t=>{ke(t,n,()=>{let r=e[Symbol.asyncIterator]();ke(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function jp(e,n){return ra(Xs(e),n)}function Vp(e,n){if(e!=null){if(Zs(e))return kp(e,n);if(Gs(e))return Fp(e,n);if(Ws(e))return Pp(e,n);if(Ks(e))return ra(e,n);if(Js(e))return Lp(e,n);if(ea(e))return jp(e,n)}throw Ys(e)}function te(e,n){return n?Vp(e,n):fe(e)}function N(...e){let n=wn(e);return te(e,n)}function Fr(e,n){let t=R(e)?e:()=>e,r=o=>o.error(t());return new Y(n?o=>n.schedule(r,0,o):r)}function Iu(e){return!!e&&(e instanceof Y||R(e.lift)&&R(e.subscribe))}var Xt=xr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function G(e,n){return Z((t,r)=>{let o=0;t.subscribe(H(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:r0}=Array;function o0(e,n){return r0(n)?e(...n):e(n)}function oa(e){return G(n=>o0(e,n))}var{isArray:i0}=Array,{getPrototypeOf:s0,prototype:a0,keys:l0}=Object;function ia(e){if(e.length===1){let n=e[0];if(i0(n))return{args:n,keys:null};if(c0(n)){let t=l0(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function c0(e){return e&&typeof e=="object"&&s0(e)===a0}function sa(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function Xo(...e){let n=wn(e),t=qs(e),{args:r,keys:o}=ia(e);if(r.length===0)return te([],n);let i=new Y(u0(r,n,o?s=>sa(o,s):He));return t?i.pipe(oa(t)):i}function u0(e,n,t=He){return r=>{$p(n,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let l=0;l<o;l++)$p(n,()=>{let c=te(e[l],n),u=!1;c.subscribe(H(r,d=>{i[l]=d,u||(u=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function $p(e,n,t){e?ke(t,e,n):n()}function Bp(e,n,t,r,o,i,s,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&n.complete()},f=_=>c<r?g(_):l.push(_),g=_=>{i&&n.next(_),c++;let C=!1;fe(t(_,u++)).subscribe(H(n,x=>{o?.(x),i?f(x):n.next(x)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let x=l.shift();s?ke(n,s,()=>g(x)):g(x)}p()}catch(x){n.error(x)}}))};return e.subscribe(H(n,f,()=>{d=!0,p()})),()=>{a?.()}}function ae(e,n,t=1/0){return R(n)?ae((r,o)=>G((i,s)=>n(r,i,o,s))(fe(e(r,o))),t):(typeof n=="number"&&(t=n),Z((r,o)=>Bp(r,o,e,t)))}function Lr(e=1/0){return ae(He,e)}function Up(){return Lr(1)}function jr(...e){return Up()(te(e,wn(e)))}function aa(e){return new Y(n=>{fe(e()).subscribe(n)})}function Su(...e){let n=qs(e),{args:t,keys:r}=ia(e),o=new Y(i=>{let{length:s}=t;if(!s){i.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;fe(t[u]).subscribe(H(i,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||i.next(r?sa(r,a):a),i.complete())}))}});return n?o.pipe(oa(n)):o}function ze(e,n){return Z((t,r)=>{let o=0;t.subscribe(H(r,i=>e.call(n,i,o++)&&r.next(i)))})}function en(e){return Z((n,t)=>{let r=null,o=!1,i;r=n.subscribe(H(t,void 0,void 0,s=>{i=fe(e(s,en(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Hp(e,n,t,r,o){return(i,s)=>{let a=t,l=n,c=0;i.subscribe(H(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function Dn(e,n){return R(n)?ae(e,n,1):ae(e,1)}function bn(e){return Z((n,t)=>{let r=!1;n.subscribe(H(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function tn(e){return e<=0?()=>Oe:Z((n,t)=>{let r=0;n.subscribe(H(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function la(e=d0){return Z((n,t)=>{let r=!1;n.subscribe(H(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function d0(){return new Xt}function ei(e){return Z((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function nn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?ze((o,i)=>e(o,i,r)):He,tn(1),t?bn(n):la(()=>new Xt))}function Vr(e){return e<=0?()=>Oe:Z((n,t)=>{let r=[];n.subscribe(H(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Mu(e,n){let t=arguments.length>=2;return r=>r.pipe(e?ze((o,i)=>e(o,i,r)):He,Vr(1),t?bn(n):la(()=>new Xt))}function Tu(e,n){return Z(Hp(e,n,arguments.length>=2,!0))}function xu(...e){let n=wn(e);return Z((t,r)=>{(n?jr(e,t,n):jr(e,t)).subscribe(r)})}function Je(e,n){return Z((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(H(r,l=>{o?.unsubscribe();let c=0,u=i++;fe(e(l,u)).subscribe(o=H(r,d=>r.next(n?n(l,d,u,c++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Au(e){return Z((n,t)=>{fe(e).subscribe(H(t,()=>t.complete(),Jo)),!t.closed&&n.subscribe(t)})}function Ie(e,n,t){let r=R(e)||n||t?{next:e,error:n,complete:t}:e;return r?Z((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(H(i,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),i.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):He}var Lg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(n,t){super(Gd(n,t)),this.code=n}};function f0(e){return`NG0${Math.abs(e)}`}function Gd(e,n){return`${f0(e)}${n?": "+n:""}`}var jg=Symbol("InputSignalNode#UNSET"),h0=L(w({},js),{transformFn:void 0,applyValueToInputSignal(e,n){Ko(e,n)}});function Vg(e,n){let t=Object.create(h0);t.value=e,t.transformFn=n?.transform;function r(){if(Zo(t),t.value===jg){let o=null;throw new E(-950,o)}return t.value}return r[Qe]=t,r}function pi(e){return{toString:e}.toString()}var ca="__parameters__";function p0(e){return function(...t){if(e){let r=e(...t);for(let o in r)this[o]=r[o]}}}function $g(e,n,t){return pi(()=>{let r=p0(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(ca)?l[ca]:Object.defineProperty(l,ca,{value:[]})[ca];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var Gr=globalThis;function J(e){for(let n in e)if(e[n]===J)return n;throw Error("Could not find renamed property on target object.")}function g0(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Fe(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Fe).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function zp(e,n){return e?n?`${e} ${n}`:e:n||""}var m0=J({__forward_ref__:J});function yt(e){return e.__forward_ref__=yt,e.toString=function(){return Fe(this())},e}function xe(e){return Bg(e)?e():e}function Bg(e){return typeof e=="function"&&e.hasOwnProperty(m0)&&e.__forward_ref__===yt}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pt(e){return{providers:e.providers||[],imports:e.imports||[]}}function qa(e){return qp(e,Hg)||qp(e,zg)}function Ug(e){return qa(e)!==null}function qp(e,n){return e.hasOwnProperty(n)?e[n]:null}function v0(e){let n=e&&(e[Hg]||e[zg]);return n||null}function Gp(e){return e&&(e.hasOwnProperty(Wp)||e.hasOwnProperty(y0))?e[Wp]:null}var Hg=J({\u0275prov:J}),Wp=J({\u0275inj:J}),zg=J({ngInjectableDef:J}),y0=J({ngInjectorDef:J}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qg(e){return e&&!!e.\u0275providers}var _0=J({\u0275cmp:J}),w0=J({\u0275dir:J}),D0=J({\u0275pipe:J}),b0=J({\u0275mod:J}),_a=J({\u0275fac:J}),oi=J({__NG_ELEMENT_ID__:J}),Zp=J({__NG_ENV_ID__:J});function Zn(e){return typeof e=="string"?e:e==null?"":String(e)}function C0(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Zn(e)}function Gg(e,n){throw new E(-200,e)}function Wd(e,n){throw new E(-201,!1)}var V=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(V||{}),qu;function Wg(){return qu}function Pe(e){let n=qu;return qu=e,n}function Zg(e,n,t){let r=qa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&V.Optional)return null;if(n!==void 0)return n;Wd(e,"Injector")}var E0={},Gn=E0,Gu="__NG_DI_FLAG__",wa=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?Vs:Gn,r)}},Da="ngTempTokenPath",I0="ngTokenPath",S0=/\n/gm,M0="\u0275",Kp="__source";function T0(e,n=V.Default){if(Yo()===void 0)throw new E(-203,!1);if(Yo()===null)return Zg(e,void 0,n);{let t=Yo(),r;return t instanceof wa?r=t.injector:r=t,r.get(e,n&V.Optional?null:void 0,n)}}function A(e,n=V.Default){return(Wg()||T0)(xe(e),n)}function y(e,n=V.Default){return A(e,Ga(n))}function Ga(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Wu(e){let n=[];for(let t=0;t<e.length;t++){let r=xe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let o,i=V.Default;for(let s=0;s<r.length;s++){let a=r[s],l=x0(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}n.push(A(o,i))}else n.push(A(r))}return n}function Kg(e,n){return e[Gu]=n,e.prototype[Gu]=n,e}function x0(e){return e[Gu]}function A0(e,n,t,r){let o=e[Da];throw n[Kp]&&o.unshift(n[Kp]),e.message=N0(`
`+e.message,o,t,r),e[I0]=o,e[Da]=null,e}function N0(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==M0?e.slice(2):e;let o=Fe(n);if(Array.isArray(n))o=n.map(Fe).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Fe(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(S0,`
  `)}`}var Yg=Kg($g("Optional"),8);var R0=Kg($g("SkipSelf"),4);function Kn(e,n){let t=e.hasOwnProperty(_a);return t?e[_a]:null}function Zd(e,n){e.forEach(t=>Array.isArray(t)?Zd(t,n):n(t))}function Qg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ba(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function O0(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(o===1)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let i=o-2;e[o]=e[i],o--}e[n]=t,e[n+1]=r}}function k0(e,n,t){let r=gi(e,n);return r>=0?e[r|1]=t:(r=~r,O0(e,r,n,t)),r}function Nu(e,n){let t=gi(e,n);if(t>=0)return e[t|1]}function gi(e,n){return P0(e,n,1)}function P0(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}var Yn={},Xe=[],Wr=new S(""),Jg=new S("",-1),Xg=new S(""),Ca=class{get(n,t=Gn){if(t===Gn){let r=new Error(`NullInjectorError: No provider for ${Fe(n)}!`);throw r.name="NullInjectorError",r}return t}};function em(e,n){let t=e[b0]||null;if(!t&&n===!0)throw new Error(`Type ${Fe(e)} does not have '\u0275mod' property.`);return t}function Qn(e){return e[_0]||null}function F0(e){return e[w0]||null}function L0(e){return e[D0]||null}function mi(e){return{\u0275providers:e}}function j0(...e){return{\u0275providers:tm(!0,e),\u0275fromNgModule:!0}}function tm(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return Zd(n,s=>{let a=s;Zu(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&nm(o,i),t}function nm(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];Kd(o,i=>{n(i,r)})}}function Zu(e,n,t,r){if(e=xe(e),!e)return!1;let o=null,i=Gp(e),s=!i&&Qn(e);if(!i&&!s){let l=e.ngModule;if(i=Gp(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Zu(c,n,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Zd(i.imports,u=>{Zu(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&nm(c,n)}if(!a){let c=Kn(o)||(()=>new o);n({provide:o,useFactory:c,deps:Xe},o),n({provide:Xg,useValue:o,multi:!0},o),n({provide:Wr,useValue:()=>A(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let c=e;Kd(l,u=>{n(u,c)})}}else return!1;return o!==e&&e.providers!==void 0}function Kd(e,n){for(let t of e)qg(t)&&(t=t.\u0275providers),Array.isArray(t)?Kd(t,n):n(t)}var V0=J({provide:String,useValue:J});function rm(e){return e!==null&&typeof e=="object"&&V0 in e}function $0(e){return!!(e&&e.useExisting)}function B0(e){return!!(e&&e.useFactory)}function Zr(e){return typeof e=="function"}function U0(e){return!!e.useClass}var Wa=new S(""),pa={},Yp={},Ru;function Yd(){return Ru===void 0&&(Ru=new Ca),Ru}var Le=class{},ii=class extends Le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,Yu(n,s=>this.processProvider(s)),this.records.set(Jg,$r(void 0,this)),o.has("environment")&&this.records.set(Le,$r(void 0,this));let i=this.records.get(Wa);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Xg,Xe,V.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?Vs:Gn,r)}destroy(){ni(this),this._destroyed=!0;let n=j(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(n)}}onDestroy(n){return ni(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ni(this);let t=Jt(this),r=Pe(void 0),o;try{return n()}finally{Jt(t),Pe(r)}}get(n,t=Gn,r=V.Default){if(ni(this),n.hasOwnProperty(Zp))return n[Zp](this);r=Ga(r);let o,i=Jt(this),s=Pe(void 0);try{if(!(r&V.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=W0(n)&&qa(n);c&&this.injectableDefInScope(c)?l=$r(Ku(n),pa):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=r&V.Self?Yd():this.parent;return t=r&V.Optional&&t===Gn?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Da]=a[Da]||[]).unshift(Fe(n)),i)throw a;return A0(a,n,"R3InjectorError",this.source)}else throw a}finally{Pe(s),Jt(i)}}resolveInjectorInitializers(){let n=j(null),t=Jt(this),r=Pe(void 0),o;try{let i=this.get(Wr,Xe,V.Self);for(let s of i)s()}finally{Jt(t),Pe(r),j(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Fe(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=xe(n);let t=Zr(n)?n:xe(n&&n.provide),r=z0(n);if(!Zr(n)&&n.multi===!0){let o=this.records.get(t);o||(o=$r(void 0,pa,!0),o.factory=()=>Wu(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=j(null);try{return t.value===Yp?Gg(Fe(n)):t.value===pa&&(t.value=Yp,t.value=t.factory()),typeof t.value=="object"&&t.value&&G0(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{j(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=xe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ku(e){let n=qa(e),t=n!==null?n.factory:Kn(e);if(t!==null)return t;if(e instanceof S)throw new E(204,!1);if(e instanceof Function)return H0(e);throw new E(204,!1)}function H0(e){if(e.length>0)throw new E(204,!1);let t=v0(e);return t!==null?()=>t.factory(e):()=>new e}function z0(e){if(rm(e))return $r(void 0,e.useValue);{let n=om(e);return $r(n,pa)}}function om(e,n,t){let r;if(Zr(e)){let o=xe(e);return Kn(o)||Ku(o)}else if(rm(e))r=()=>xe(e.useValue);else if(B0(e))r=()=>e.useFactory(...Wu(e.deps||[]));else if($0(e))r=()=>A(xe(e.useExisting));else{let o=xe(e&&(e.useClass||e.provide));if(q0(e))r=()=>new o(...Wu(e.deps));else return Kn(o)||Ku(o)}return r}function ni(e){if(e.destroyed)throw new E(205,!1)}function $r(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function q0(e){return!!e.deps}function G0(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function W0(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function Yu(e,n){for(let t of e)Array.isArray(t)?Yu(t,n):t&&qg(t)?Yu(t.\u0275providers,n):n(t)}function tt(e,n){let t;e instanceof ii?(ni(e),t=e):t=new wa(e);let r,o=Jt(t),i=Pe(void 0);try{return n()}finally{Jt(o),Pe(i)}}function im(){return Wg()!==void 0||Yo()!=null}function Z0(e){if(!im())throw new E(-203,!1)}function K0(e){return typeof e=="function"}var an=0,$=1,O=2,Ne=3,mt=4,_t=5,si=6,Ea=7,ye=8,Jn=9,rn=10,pe=11,ai=12,Qp=13,ro=14,vt=15,Kr=16,Br=17,Yr=18,Za=19,sm=20,Cn=21,Ou=22,Ia=23,et=24,zr=25,Re=26,am=1;var Xn=7,Sa=8,Ma=9,Ae=10;function En(e){return Array.isArray(e)&&typeof e[am]=="object"}function ln(e){return Array.isArray(e)&&e[am]===!0}function lm(e){return(e.flags&4)!==0}function oo(e){return e.componentOffset>-1}function Qd(e){return(e.flags&1)===1}function xt(e){return!!e.template}function Ta(e){return(e[O]&512)!==0}function io(e){return(e[O]&256)===256}var Qu=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function cm(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Ft=(()=>{let e=()=>um;return e.ngInherit=!0,e})();function um(e){return e.type.prototype.ngOnChanges&&(e.setInput=Q0),Y0}function Y0(){let e=fm(this),n=e?.current;if(n){let t=e.previous;if(t===Yn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Q0(e,n,t,r,o){let i=this.declaredInputs[r],s=fm(e)||J0(e,{previous:Yn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new Qu(c&&c.currentValue,t,l===Yn),cm(e,n,o,t)}var dm="__ngSimpleChanges__";function fm(e){return e[dm]||null}function J0(e,n){return e[dm]=n}var Jp=null;var Q=function(e,n=null,t){Jp?.(e,n,t)},X0="svg",eb="math";function At(e){for(;Array.isArray(e);)e=e[an];return e}function hm(e,n){return At(n[e])}function Lt(e,n){return At(n[e.index])}function Jd(e,n){return e.data[n]}function pm(e,n){return e[n]}function Nt(e,n){let t=n[e];return En(t)?t:t[an]}function Xd(e){return(e[O]&128)===128}function tb(e){return ln(e[Ne])}function Qr(e,n){return n==null?null:e[n]}function gm(e){e[Br]=0}function mm(e){e[O]&1024||(e[O]|=1024,Xd(e)&&vi(e))}function nb(e,n){for(;e>0;)n=n[ro],e--;return n}function Ka(e){return!!(e[O]&9216||e[et]?.dirty)}function Ju(e){e[rn].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),Ka(e)&&vi(e)}function vi(e){e[rn].changeDetectionScheduler?.notify(0);let n=er(e);for(;n!==null&&!(n[O]&8192||(n[O]|=8192,!Xd(n)));)n=er(n)}function vm(e,n){if(io(e))throw new E(911,!1);e[Cn]===null&&(e[Cn]=[]),e[Cn].push(n)}function rb(e,n){if(e[Cn]===null)return;let t=e[Cn].indexOf(n);t!==-1&&e[Cn].splice(t,1)}function er(e){let n=e[Ne];return ln(n)?n[Ne]:n}function ym(e){return e[Ea]??=[]}function _m(e){return e.cleanup??=[]}var B={lFrame:Tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Xu=!1;function ob(){return B.lFrame.elementDepthCount}function ib(){B.lFrame.elementDepthCount++}function sb(){B.lFrame.elementDepthCount--}function wm(){return B.bindingsEnabled}function ab(){return B.skipHydrationRootTNode!==null}function lb(e){return B.skipHydrationRootTNode===e}function cb(){B.skipHydrationRootTNode=null}function z(){return B.lFrame.lView}function Te(){return B.lFrame.tView}function le(e){return B.lFrame.contextLView=e,e[ye]}function ce(e){return B.lFrame.contextLView=null,e}function je(){let e=Dm();for(;e!==null&&e.type===64;)e=e.parent;return e}function Dm(){return B.lFrame.currentTNode}function ub(){let e=B.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function yi(e,n){let t=B.lFrame;t.currentTNode=e,t.isParent=n}function bm(){return B.lFrame.isParent}function db(){B.lFrame.isParent=!1}function fb(){return B.lFrame.contextLView}function Cm(){return Xu}function Xp(e){let n=Xu;return Xu=e,n}function Ya(){let e=B.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function hb(){return B.lFrame.bindingIndex}function pb(e){return B.lFrame.bindingIndex=e}function so(){return B.lFrame.bindingIndex++}function Em(e){let n=B.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function gb(){return B.lFrame.inI18n}function mb(e,n){let t=B.lFrame;t.bindingIndex=t.bindingRootIndex=e,ed(n)}function vb(){return B.lFrame.currentDirectiveIndex}function ed(e){B.lFrame.currentDirectiveIndex=e}function yb(e){let n=B.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Im(e){B.lFrame.currentQueryIndex=e}function _b(e){let n=e[$];return n.type===2?n.declTNode:n.type===1?e[_t]:null}function Sm(e,n,t){if(t&V.SkipSelf){let o=n,i=e;for(;o=o.parent,o===null&&!(t&V.Host);)if(o=_b(i),o===null||(i=i[ro],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=B.lFrame=Mm();return r.currentTNode=n,r.lView=e,!0}function ef(e){let n=Mm(),t=e[$];B.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Mm(){let e=B.lFrame,n=e===null?null:e.child;return n===null?Tm(e):n}function Tm(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function xm(){let e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Am=xm;function tf(){let e=xm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wb(e){return(B.lFrame.contextLView=nb(e,B.lFrame.contextLView))[ye]}function Sn(){return B.lFrame.selectedIndex}function tr(e){B.lFrame.selectedIndex=e}function Qa(){let e=B.lFrame;return Jd(e.tView,e.selectedIndex)}function Db(){return B.lFrame.currentNamespace}var Nm=!0;function nf(){return Nm}function rf(e){Nm=e}function bb(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=um(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function Rm(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function ga(e,n,t){Om(e,n,3,t)}function ma(e,n,t,r){(e[O]&3)===t&&Om(e,n,t,r)}function ku(e,n){let t=e[O];(t&3)===n&&(t&=16383,t+=1,e[O]=t)}function Om(e,n,t,r){let o=r!==void 0?e[Br]&65535:0,i=r??-1,s=n.length-1,a=0;for(let l=o;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[Br]+=65536),(a<i||i==-1)&&(Cb(e,t,n,l),e[Br]=(e[Br]&4294901760)+l+2),l++}function eg(e,n){Q(4,e,n);let t=j(null);try{n.call(e)}finally{j(t),Q(5,e,n)}}function Cb(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=e[s];o?e[O]>>14<e[Br]>>16&&(e[O]&3)===n&&(e[O]+=16384,eg(a,i)):eg(a,i)}var qr=-1,nr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Eb(e){return(e.flags&8)!==0}function Ib(e){return(e.flags&16)!==0}function Sb(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{let i=o,s=t[++r];Mb(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function km(e){return e===3||e===4||e===6}function Mb(e){return e.charCodeAt(0)===64}function li(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?tg(e,t,o,null,n[++r]):tg(e,t,o,null,null))}}return e}function tg(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function Pm(e){return e!==qr}function xa(e){return e&32767}function Tb(e){return e>>16}function Aa(e,n){let t=Tb(e),r=n;for(;t>0;)r=r[ro],t--;return r}var td=!0;function Na(e){let n=td;return td=e,n}var xb=256,Fm=xb-1,Lm=5,Ab=0,Tt={};function Nb(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(oi)&&(r=t[oi]),r==null&&(r=t[oi]=Ab++);let o=r&Fm,i=1<<o;n.data[e+(o>>Lm)]|=i}function Ra(e,n){let t=jm(e,n);if(t!==-1)return t;let r=n[$];r.firstCreatePass&&(e.injectorIndex=n.length,Pu(r.data,e),Pu(n,null),Pu(r.blueprint,null));let o=of(e,n),i=e.injectorIndex;if(Pm(o)){let s=xa(o),a=Aa(o,n),l=a[$].data;for(let c=0;c<8;c++)n[i+c]=a[s+c]|l[s+c]}return n[i+8]=o,i}function Pu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function jm(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function of(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=Hm(o),r===null)return qr;if(t++,o=o[ro],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return qr}function nd(e,n,t){Nb(e,n,t)}function Rb(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(km(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===n)return t[o+1];o=o+2}}}return null}function Vm(e,n,t){if(t&V.Optional||e!==void 0)return e;Wd(n,"NodeInjector")}function $m(e,n,t,r){if(t&V.Optional&&r===void 0&&(r=null),(t&(V.Self|V.Host))===0){let o=e[Jn],i=Pe(void 0);try{return o?o.get(n,r,t&V.Optional):Zg(n,r,t&V.Optional)}finally{Pe(i)}}return Vm(r,n,t)}function Bm(e,n,t,r=V.Default,o){if(e!==null){if(n[O]&2048&&!(r&V.Self)){let s=Lb(e,n,t,r,Tt);if(s!==Tt)return s}let i=Um(e,n,t,r,Tt);if(i!==Tt)return i}return $m(n,t,r,o)}function Um(e,n,t,r,o){let i=Pb(t);if(typeof i=="function"){if(!Sm(n,e,r))return r&V.Host?Vm(o,t,r):$m(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&V.Optional))Wd(t);else return s}finally{Am()}}else if(typeof i=="number"){let s=null,a=jm(e,n),l=qr,c=r&V.Host?n[vt][_t]:null;for((a===-1||r&V.SkipSelf)&&(l=a===-1?of(e,n):n[a+8],l===qr||!rg(r,!1)?a=-1:(s=n[$],a=xa(l),n=Aa(l,n)));a!==-1;){let u=n[$];if(ng(i,a,u.data)){let d=Ob(a,n,t,s,r,c);if(d!==Tt)return d}l=n[a+8],l!==qr&&rg(r,n[$].data[a+8]===c)&&ng(i,a,n)?(s=u,a=xa(l),n=Aa(l,n)):a=-1}}return o}function Ob(e,n,t,r,o,i){let s=n[$],a=s.data[e+8],l=r==null?oo(a)&&td:r!=s&&(a.type&3)!==0,c=o&V.Host&&i===a,u=kb(a,s,t,l,c);return u!==null?Oa(n,s,u,a):Tt}function kb(e,n,t,r,o){let i=e.providerIndexes,s=n.data,a=i&1048575,l=e.directiveStart,c=e.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:c;for(let f=d;f<p;f++){let g=s[f];if(f<l&&t===g||f>=l&&g.type===t)return f}if(o){let f=s[l];if(f&&xt(f)&&f.type===t)return l}return null}function Oa(e,n,t,r){let o=e[t],i=n.data;if(o instanceof nr){let s=o;s.resolving&&Gg(C0(i[t]));let a=Na(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Pe(s.injectImpl):null,u=Sm(e,r,V.Default);try{o=e[t]=s.factory(void 0,i,e,r),n.firstCreatePass&&t>=r.directiveStart&&bb(t,i[t],n)}finally{c!==null&&Pe(c),Na(a),s.resolving=!1,Am()}}return o}function Pb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(oi)?e[oi]:void 0;return typeof n=="number"?n>=0?n&Fm:Fb:n}function ng(e,n,t){let r=1<<e;return!!(t[n+(e>>Lm)]&r)}function rg(e,n){return!(e&V.Self)&&!(e&V.Host&&n)}var Wn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Bm(this._tNode,this._lView,n,Ga(r),t)}};function Fb(){return new Wn(je(),z())}function cn(e){return pi(()=>{let n=e.prototype.constructor,t=n[_a]||rd(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[_a]||rd(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function rd(e){return Bg(e)?()=>{let n=rd(xe(e));return n&&n()}:Kn(e)}function Lb(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[O]&2048&&!Ta(s);){let a=Um(i,s,t,r|V.Self,Tt);if(a!==Tt)return a;let l=i.parent;if(!l){let c=s[sm];if(c){let u=c.get(t,Tt,r);if(u!==Tt)return u}l=Hm(s),s=s[ro]}i=l}return o}function Hm(e){let n=e[$],t=n.type;return t===2?n.declTNode:t===1?e[_t]:null}function sf(e){return Rb(je(),e)}function og(e,n=null,t=null,r){let o=zm(e,n,t,r);return o.resolveInjectorInitializers(),o}function zm(e,n=null,t=null,r,o=new Set){let i=[t||Xe,j0(e)];return r=r||(typeof e=="object"?void 0:Fe(e)),new ii(i,n||Yd(),r||null,o)}var qe=class e{static THROW_IF_NOT_FOUND=Gn;static NULL=new Ca;static create(n,t){if(Array.isArray(n))return og({name:""},t,n,"");{let r=n.name??"";return og({name:r},n.parent,n.providers,r)}}static \u0275prov=I({token:e,providedIn:"any",factory:()=>A(Jg)});static __NG_ELEMENT_ID__=-1};var jb=new S("");jb.__NG_ELEMENT_ID__=e=>{let n=je();if(n===null)throw new E(204,!1);if(n.type&2)return n.value;if(e&V.Optional)return null;throw new E(204,!1)};var qm=!1,_i=(()=>{class e{static __NG_ELEMENT_ID__=Vb;static __NG_ENV_ID__=t=>t}return e})(),od=class extends _i{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return io(t)?(n(),()=>{}):(vm(t,n),()=>rb(t,n))}};function Vb(){return new od(z())}var Jr=class{},Ja=new S("",{providedIn:"root",factory:()=>!1});var Gm=new S(""),Wm=new S(""),ao=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ee(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})();var id=class extends de{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,im()&&(this.destroyRef=y(_i,{optional:!0})??void 0,this.pendingTasks=y(ao,{optional:!0})??void 0)}emit(n){let t=j(null);try{super.next(n)}finally{j(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof ue&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},he=id;function ka(...e){}function Zm(e){let n,t;function r(){e=ka;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function ig(e){return queueMicrotask(()=>e()),()=>{e=ka}}var af="isAngularZone",Pa=af+"_ID",$b=0,ie=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new he(!1);onMicrotaskEmpty=new he(!1);onStable=new he(!1);onError=new he(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=qm}=n;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,Hb(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(af)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new E(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,Bb,ka,ka);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},Bb={};function lf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ub(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Zm(()=>{e.callbackScheduled=!1,sd(e),e.isCheckStableRunning=!0,lf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),sd(e)}function Hb(e){let n=()=>{Ub(e)},t=$b++;e._inner=e._inner.fork({name:"angular",properties:{[af]:!0,[Pa]:t,[Pa+t]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(zb(l))return r.invokeTask(i,s,a,l);try{return sg(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),ag(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return sg(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!qb(l)&&n(),ag(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,sd(e),lf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function sd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function sg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ag(e){e._nesting--,lf(e)}var ad=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new he;onMicrotaskEmpty=new he;onStable=new he;onError=new he;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function zb(e){return Km(e,"__ignore_ng_zone__")}function qb(e){return Km(e,"__scheduler_tick__")}function Km(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Rt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Gb=new S("",{providedIn:"root",factory:()=>{let e=y(ie),n=y(Rt);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function lg(e,n){return Vg(e,n)}function Wb(e){return Vg(jg,e)}var Ym=(lg.required=Wb,lg);function Zb(){return Xa(je(),z())}function Xa(e,n){return new jt(Lt(e,n))}var jt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Zb}return e})();function Kb(e){return typeof e=="function"&&e[Qe]!==void 0}function wi(e,n){let t=fu(e,n?.equal),r=t[Qe];return t.set=o=>Ko(r,o),t.update=o=>hu(r,o),t.asReadonly=Yb.bind(t),t}function Yb(){let e=this[Qe];if(e.readonlyFn===void 0){let n=()=>this();n[Qe]=e,e.readonlyFn=n}return e.readonlyFn}function Qm(e){return Kb(e)&&typeof e.set=="function"}function Jm(e){return(e.flags&128)===128}var Xm=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xm||{}),ev=new Map,Qb=0;function Jb(){return Qb++}function Xb(e){ev.set(e[Za],e)}function ld(e){ev.delete(e[Za])}var cg="__ngContext__";function Di(e,n){En(n)?(e[cg]=n[Za],Xb(n)):e[cg]=n}function tv(e){return rv(e[ai])}function nv(e){return rv(e[mt])}function rv(e){for(;e!==null&&!ln(e);)e=e[mt];return e}var cd;function ov(e){cd=e}function iv(){if(cd!==void 0)return cd;if(typeof document<"u")return document;throw new E(210,!1)}var el=new S("",{providedIn:"root",factory:()=>eC}),eC="ng",cf=new S(""),lo=new S("",{providedIn:"platform",factory:()=>"unknown"});var uf=new S("",{providedIn:"root",factory:()=>iv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tC="h",nC="b";var sv=!1,rC=new S("",{providedIn:"root",factory:()=>sv});var df=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(df||{}),co=new S(""),ug=new Set;function Mn(e){ug.has(e)||(ug.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var av=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=oC}return e})();function oC(){return new av(z(),je())}var Ur=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ur||{}),lv=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),iC=[Ur.EarlyRead,Ur.Write,Ur.MixedReadWrite,Ur.Read],sC=(()=>{class e{ngZone=y(ie);scheduler=y(Jr);errorHandler=y(Rt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(co,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Q(16),this.executing=!0;for(let r of iC)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Q(17)}register(t){let{view:r}=t;r!==void 0?((r[zr]??=[]).push(t),vi(r),r[O]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(df.AFTER_NEXT_RENDER,t):t()}static \u0275prov=I({token:e,providedIn:"root",factory:()=>new e})}return e})(),ud=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,o,i,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[zr];n&&(this.view[zr]=n.filter(t=>t!==this))}};function ff(e,n){!n?.injector&&Z0(ff);let t=n?.injector??y(qe);return Mn("NgAfterNextRender"),lC(e,t,n,!0)}function aC(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function lC(e,n,t,r){let o=n.get(lv);o.impl??=n.get(sC);let i=n.get(co,null,{optional:!0}),s=t?.phase??Ur.MixedReadWrite,a=t?.manualCleanup!==!0?n.get(_i):null,l=n.get(av,null,{optional:!0}),c=new ud(o.impl,aC(e,s),l?.view,r,a,i?.snapshot(null));return o.impl.register(c),c}var cC=()=>null;function cv(e,n,t=!1){return cC(e,n,t)}function uv(e,n){let t=e.contentQueries;if(t!==null){let r=j(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=e.data[s];Im(i),a.contentQueries(2,n[s],s)}}}finally{j(r)}}}function dd(e,n,t){Im(0);let r=j(null);try{n(e,t)}finally{j(r)}}function dv(e,n,t){if(lm(n)){let r=j(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{j(r)}}}var Ot=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ot||{}),ua;function uC(){if(ua===void 0&&(ua=null,Gr.trustedTypes))try{ua=Gr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ua}function tl(e){return uC()?.createHTML(e)||e}var da;function fv(){if(da===void 0&&(da=null,Gr.trustedTypes))try{da=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return da}function dg(e){return fv()?.createHTML(e)||e}function fg(e){return fv()?.createScriptURL(e)||e}var on=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lg})`}},fd=class extends on{getTypeName(){return"HTML"}},hd=class extends on{getTypeName(){return"Style"}},pd=class extends on{getTypeName(){return"Script"}},gd=class extends on{getTypeName(){return"URL"}},md=class extends on{getTypeName(){return"ResourceURL"}};function wt(e){return e instanceof on?e.changingThisBreaksApplicationSecurity:e}function un(e,n){let t=dC(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Lg})`)}return t===n}function dC(e){return e instanceof on&&e.getTypeName()||null}function hv(e){return new fd(e)}function pv(e){return new hd(e)}function gv(e){return new pd(e)}function mv(e){return new gd(e)}function vv(e){return new md(e)}function fC(e){let n=new yd(e);return hC()?new vd(n):n}var vd=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(tl(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},yd=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=tl(n),t}};function hC(){try{return!!new window.DOMParser().parseFromString(tl(""),"text/html")}catch{return!1}}var pC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nl(e){return e=String(e),e.match(pC)?e:"unsafe:"+e}function dn(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function bi(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var yv=dn("area,br,col,hr,img,wbr"),_v=dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wv=dn("rp,rt"),gC=bi(wv,_v),mC=bi(_v,dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vC=bi(wv,dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hg=bi(yv,mC,vC,gC),Dv=dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yC=dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_C=dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),wC=bi(Dv,yC,_C),DC=dn("script,style,template"),_d=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,o=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){o.push(t),t=EC(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=CC(t);if(i){t=i;break}t=o.pop()}}return this.buf.join("")}startElement(n){let t=pg(n).toLowerCase();if(!hg.hasOwnProperty(t))return this.sanitizedSomething=!0,!DC.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!wC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Dv[a]&&(l=nl(l)),this.buf.push(" ",s,'="',gg(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=pg(n).toLowerCase();hg.hasOwnProperty(t)&&!yv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(gg(n))}};function bC(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function CC(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw bv(n);return n}function EC(e){let n=e.firstChild;if(n&&bC(e,n))throw bv(n);return n}function pg(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function bv(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var IC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SC=/([^\#-~ |!])/g;function gg(e){return e.replace(/&/g,"&amp;").replace(IC,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(SC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var fa;function hf(e,n){let t=null;try{fa=fa||fC(e);let r=n?String(n):"";t=fa.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=fa.getInertBodyElement(r)}while(r!==i);let a=new _d().sanitizeChildren(mg(t)||t);return tl(a)}finally{if(t){let r=mg(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function mg(e){return"content"in e&&MC(e)?e.content:null}function MC(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Dt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Dt||{});function Tn(e){let n=gf();return n?dg(n.sanitize(Dt.HTML,e)||""):un(e,"HTML")?dg(wt(e)):hf(iv(),Zn(e))}function pf(e){let n=gf();return n?n.sanitize(Dt.URL,e)||"":un(e,"URL")?wt(e):nl(Zn(e))}function TC(e){let n=gf();if(n)return fg(n.sanitize(Dt.RESOURCE_URL,e)||"");if(un(e,"ResourceURL"))return fg(wt(e));throw new E(904,!1)}function xC(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?TC:pf}function Cv(e,n,t){return xC(n,t)(e)}function gf(){let e=z();return e&&e[rn].sanitizer}function Ev(e){return e instanceof Function?e():e}function AC(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var Iv="ng-template";function NC(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&AC(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(mf(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function mf(e){return e.type===4&&e.value!==Iv}function RC(e,n,t){let r=e.type===4&&!t?Iv:e.value;return n===r}function OC(e,n,t){let r=4,o=e.attrs,i=o!==null?FC(o):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!gt(r)&&!gt(l))return!1;if(s&&gt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!RC(e,l,t)||l===""&&n.length===1){if(gt(r))return!1;s=!0}}else if(r&8){if(o===null||!NC(e,o,l,t)){if(gt(r))return!1;s=!0}}else{let c=n[++a],u=kC(l,o,mf(e),t);if(u===-1){if(gt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&c!==d){if(gt(r))return!1;s=!0}}}}return gt(r)||s}function gt(e){return(e&1)===0}function kC(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return LC(n,e)}function PC(e,n,t=!1){for(let r=0;r<n.length;r++)if(OC(e,n[r],t))return!0;return!1}function FC(e){for(let n=0;n<e.length;n++){let t=e[n];if(km(t))return n}return e.length}function LC(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function vg(e,n){return e?":not("+n.trim()+")":n}function jC(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!gt(s)&&(n+=vg(i,o),o=""),r=s,i=i||!gt(r);t++}return o!==""&&(n+=vg(i,o)),n}function VC(e){return e.map(jC).join(",")}function $C(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!gt(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var nt={};function BC(e,n){return e.createText(n)}function UC(e,n,t){e.setValue(n,t)}function Sv(e,n,t){return e.createElement(n,t)}function Fa(e,n,t,r,o){e.insertBefore(n,t,r,o)}function Mv(e,n,t){e.appendChild(n,t)}function yg(e,n,t,r,o){r!==null?Fa(e,n,t,r,o):Mv(e,n,t)}function HC(e,n,t){e.removeChild(null,n,t)}function zC(e,n,t){e.setAttribute(n,"style",t)}function qC(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Tv(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&Sb(e,n,r),o!==null&&qC(e,n,o),i!==null&&zC(e,n,i)}function vf(e,n,t,r,o,i,s,a,l,c,u){let d=Re+r,p=d+o,f=GC(d,p),g=typeof c=="function"?c():c;return f[$]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function GC(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:nt);return t}function WC(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=vf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function yf(e,n,t,r,o,i,s,a,l,c,u){let d=n.blueprint.slice();return d[an]=o,d[O]=r|4|128|8|64|1024,(c!==null||e&&e[O]&2048)&&(d[O]|=2048),gm(d),d[Ne]=d[ro]=e,d[ye]=t,d[rn]=s||e&&e[rn],d[pe]=a||e&&e[pe],d[Jn]=l||e&&e[Jn]||null,d[_t]=i,d[Za]=Jb(),d[si]=u,d[sm]=c,d[vt]=n.type==2?e[vt]:d,d}function ZC(e,n,t){let r=Lt(n,e),o=WC(t),i=e[rn].rendererFactory,s=_f(e,yf(e,o,null,xv(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function xv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Av(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function _f(e,n){return e[ai]?e[Qp][mt]=n:e[ai]=n,e[Qp]=n,n}function M(e=1){Nv(Te(),z(),Sn()+e,!1)}function Nv(e,n,t,r){if(!r)if((n[O]&3)===3){let i=e.preOrderCheckHooks;i!==null&&ga(n,i,t)}else{let i=e.preOrderHooks;i!==null&&ma(n,i,0,t)}tr(t)}var rl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(rl||{});function wd(e,n,t,r){let o=j(null);try{let[i,s,a]=e.inputs[t],l=null;(s&rl.SignalBased)!==0&&(l=n[i][Qe]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,i):cm(n,l,i,r)}finally{j(o)}}function Rv(e,n,t,r,o){let i=Sn(),s=r&2;try{tr(-1),s&&n.length>Re&&Nv(e,n,Re,!1),Q(s?2:0,o),t(r,o)}finally{tr(i),Q(s?3:1,o)}}function wf(e,n,t){eE(e,n,t),(t.flags&64)===64&&tE(e,n,t)}function Ov(e,n,t=Lt){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(n,e):e[s];e[o++]=a}}}function KC(e,n,t,r){let i=r.get(rC,sv)||t===Ot.ShadowDom,s=e.selectRootElement(n,i);return YC(s),s}function YC(e){QC(e)}var QC=()=>null;function JC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Df(e,n,t,r,o,i,s,a){if(!a&&bf(n,e,t,r,o)){oo(n)&&XC(t,n.index);return}if(n.type&3){let l=Lt(n,t);r=JC(r),o=s!=null?s(o,n.value||"",r):o,i.setProperty(l,r,o)}else n.type&12}function XC(e,n){let t=Nt(n,e);t[O]&16||(t[O]|=64)}function eE(e,n,t){let r=t.directiveStart,o=t.directiveEnd;oo(t)&&ZC(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Ra(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],l=Oa(n,e,s,t);if(Di(l,n),i!==null&&iE(n,s-r,l,a,t,i),xt(a)){let c=Nt(t.index,n);c[ye]=Oa(n,e,s,t)}}}function tE(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=vb();try{tr(i);for(let a=r;a<o;a++){let l=e.data[a],c=n[a];ed(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&nE(l,c)}}finally{tr(-1),ed(s)}}function nE(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function kv(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];PC(n,i.selectors,!1)&&(r??=[],xt(i)?r.unshift(i):r.push(i))}return r}function rE(e,n,t,r,o,i){let s=Lt(e,n);oE(n[pe],s,i,e.value,t,r,o)}function oE(e,n,t,r,o,i,s){if(i==null)e.removeAttribute(n,o,t);else{let a=s==null?Zn(i):s(i,r||"",o);e.setAttribute(n,o,a,t)}}function iE(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];wd(r,t,l,c)}}function sE(e,n){let t=e[Jn],r=t?t.get(Rt,null):null;r&&r.handleError(n)}function bf(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=n.data[c];wd(d,t[c],u,o),a=!0}if(i)for(let l of i){let c=t[l],u=n.data[l];wd(u,c,r,o),a=!0}return a}function aE(e,n){let t=Nt(n,e),r=t[$];lE(r,t);let o=t[an];o!==null&&t[si]===null&&(t[si]=cv(o,t[Jn])),Q(18),Cf(r,t,t[ye]),Q(19,t[ye])}function lE(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Cf(e,n,t){ef(n);try{let r=e.viewQuery;r!==null&&dd(1,r,t);let o=e.template;o!==null&&Rv(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Yr]?.finishViewCreation(e),e.staticContentQueries&&uv(e,n),e.staticViewQueries&&dd(2,e.viewQuery,t);let i=e.components;i!==null&&cE(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[O]&=-5,tf()}}function cE(e,n){for(let t=0;t<n.length;t++)aE(e,n[t])}function ol(e,n,t,r){let o=j(null);try{let i=n.tView,a=e[O]&4096?4096:16,l=yf(e,i,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[Kr]=c;let u=e[Yr];return u!==null&&(l[Yr]=u.createEmbeddedView(i)),Cf(i,l,t),l}finally{j(o)}}function ci(e,n){return!n||n.firstChild===null||Jm(e)}var uE;function Ef(e,n){return uE(e,n)}var sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sn||{});function Pv(e){return(e.flags&32)===32}function Hr(e,n,t,r,o){if(r!=null){let i,s=!1;ln(r)?i=r:En(r)&&(s=!0,r=r[an]);let a=At(r);e===0&&t!==null?o==null?Mv(n,t,a):Fa(n,t,a,o||null,!0):e===1&&t!==null?Fa(n,t,a,o||null,!0):e===2?HC(n,a,s):e===3&&n.destroyNode(a),i!=null&&bE(n,e,i,t,o)}}function dE(e,n){Fv(e,n),n[an]=null,n[_t]=null}function fE(e,n,t,r,o,i){r[an]=o,r[_t]=n,sl(e,r,t,1,o,i)}function Fv(e,n){n[rn].changeDetectionScheduler?.notify(9),sl(e,n,n[pe],2,null,null)}function hE(e){let n=e[ai];if(!n)return Fu(e[$],e);for(;n;){let t=null;if(En(n))t=n[ai];else{let r=n[Ae];r&&(t=r)}if(!t){for(;n&&!n[mt]&&n!==e;)En(n)&&Fu(n[$],n),n=n[Ne];n===null&&(n=e),En(n)&&Fu(n[$],n),t=n&&n[mt]}n=t}}function If(e,n){let t=e[Ma],r=t.indexOf(n);t.splice(r,1)}function il(e,n){if(io(n))return;let t=n[pe];t.destroyNode&&sl(e,n,t,3,null,null),hE(n)}function Fu(e,n){if(io(n))return;let t=j(null);try{n[O]&=-129,n[O]|=256,n[et]&&cu(n[et]),gE(e,n),pE(e,n),n[$].type===1&&n[pe].destroy();let r=n[Kr];if(r!==null&&ln(n[Ne])){r!==n[Ne]&&If(r,n);let o=n[Yr];o!==null&&o.detachView(e)}ld(n)}finally{j(t)}}function pE(e,n){let t=e.cleanup,r=n[Ea];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Ea]=null);let o=n[Cn];if(o!==null){n[Cn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[Ia];if(i!==null){n[Ia]=null;for(let s of i)s.destroy()}}function gE(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof nr)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];Q(4,a,l);try{l.call(a)}finally{Q(5,a,l)}}else{Q(4,o,i);try{i.call(o)}finally{Q(5,o,i)}}}}}function mE(e,n,t){return vE(e,n.parent,t)}function vE(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[an];if(oo(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Ot.None||o===Ot.Emulated)return null}return Lt(r,t)}function yE(e,n,t){return wE(e,n,t)}function _E(e,n,t){return e.type&40?Lt(e,t):null}var wE=_E,_g;function Sf(e,n,t,r){let o=mE(e,r,n),i=n[pe],s=r.parent||n[_t],a=yE(s,r,n);if(o!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)yg(i,o,t[l],a,!1);else yg(i,o,t,a,!1);_g!==void 0&&_g(i,r,n,t,o)}function ri(e,n){if(n!==null){let t=n.type;if(t&3)return Lt(n,e);if(t&4)return Dd(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return ri(e,r);{let o=e[n.index];return ln(o)?Dd(-1,o):At(o)}}else{if(t&128)return ri(e,n.next);if(t&32)return Ef(n,e)()||At(e[n.index]);{let r=Lv(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=er(e[vt]);return ri(o,r)}else return ri(e,n.next)}}}return null}function Lv(e,n){if(n!==null){let r=e[vt][_t],o=n.projection;return r.projection[o]}return null}function Dd(e,n){let t=Ae+e+1;if(t<n.length){let r=n[t],o=r[$].firstChild;if(o!==null)return ri(r,o)}return n[Xn]}function Mf(e,n,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&n===0&&(a&&Di(At(a),r),t.flags|=2),!Pv(t))if(l&8)Mf(e,n,t.child,r,o,i,!1),Hr(n,e,o,a,i);else if(l&32){let c=Ef(t,r),u;for(;u=c();)Hr(n,e,o,u,i);Hr(n,e,o,a,i)}else l&16?DE(e,n,r,t,o,i):Hr(n,e,o,a,i);t=s?t.projectionNext:t.next}}function sl(e,n,t,r,o,i){Mf(t,r,e.firstChild,n,o,i,!1)}function DE(e,n,t,r,o,i){let s=t[vt],l=s[_t].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Hr(n,e,o,u,i)}else{let c=l,u=s[Ne];Jm(r)&&(c.flags|=128),Mf(e,n,c,u,o,i,!0)}}function bE(e,n,t,r,o){let i=t[Xn],s=At(t);i!==s&&Hr(n,e,r,i,o);for(let a=Ae;a<t.length;a++){let l=t[a];sl(l[$],l,e,n,r,i)}}function CE(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:sn.DashCase;o==null?e.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=sn.Important),e.setStyle(t,r,o,i))}}function La(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(At(i)),ln(i)&&EE(i,r);let s=t.type;if(s&8)La(e,n,t.child,r);else if(s&32){let a=Ef(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=Lv(n,t);if(Array.isArray(a))r.push(...a);else{let l=er(n[vt]);La(l[$],l,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function EE(e,n){for(let t=Ae;t<e.length;t++){let r=e[t],o=r[$].firstChild;o!==null&&La(r[$],r,o,n)}e[Xn]!==e[an]&&n.push(e[Xn])}function jv(e){if(e[zr]!==null){for(let n of e[zr])n.impl.addSequence(n);e[zr].length=0}}var Vv=[];function IE(e){return e[et]??SE(e)}function SE(e){let n=Vv.pop()??Object.create(TE);return n.lView=e,n}function ME(e){e.lView[et]!==e&&(e.lView=null,Vv.push(e))}var TE=L(w({},Wo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{vi(e.lView)},consumerOnSignalRead(){this.lView[et]=this}});function xE(e){let n=e[et]??Object.create(AE);return n.lView=e,n}var AE=L(w({},Wo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=er(e.lView);for(;n&&!$v(n[$]);)n=er(n);n&&mm(n)},consumerOnSignalRead(){this.lView[et]=this}});function $v(e){return e.type!==2}function Bv(e){if(e[Ia]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Ia])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[O]&8192)}}var NE=100;function Uv(e,n=!0,t=0){let o=e[rn].rendererFactory,i=!1;i||o.begin?.();try{RE(e,t)}catch(s){throw n&&sE(e,s),s}finally{i||o.end?.()}}function RE(e,n){let t=Cm();try{Xp(!0),bd(e,n);let r=0;for(;Ka(e);){if(r===NE)throw new E(103,!1);r++,bd(e,1)}}finally{Xp(t)}}function OE(e,n,t,r){if(io(n))return;let o=n[O],i=!1,s=!1;ef(n);let a=!0,l=null,c=null;i||($v(e)?(c=IE(n),l=Ps(c)):ru()===null?(a=!1,c=xE(n),l=Ps(c)):n[et]&&(cu(n[et]),n[et]=null));try{gm(n),pb(e.bindingStartIndex),t!==null&&Rv(e,n,t,2,r);let u=(o&3)===3;if(!i)if(u){let f=e.preOrderCheckHooks;f!==null&&ga(n,f,null)}else{let f=e.preOrderHooks;f!==null&&ma(n,f,0,null),ku(n,0)}if(s||kE(n),Bv(n),Hv(n,0),e.contentQueries!==null&&uv(e,n),!i)if(u){let f=e.contentCheckHooks;f!==null&&ga(n,f)}else{let f=e.contentHooks;f!==null&&ma(n,f,1),ku(n,1)}FE(e,n);let d=e.components;d!==null&&qv(n,d,0);let p=e.viewQuery;if(p!==null&&dd(2,p,r),!i)if(u){let f=e.viewCheckHooks;f!==null&&ga(n,f)}else{let f=e.viewHooks;f!==null&&ma(n,f,2),ku(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Ou]){for(let f of n[Ou])f();n[Ou]=null}i||(jv(n),n[O]&=-73)}catch(u){throw i||vi(n),u}finally{c!==null&&(au(c,l),a&&ME(c)),tf()}}function Hv(e,n){for(let t=tv(e);t!==null;t=nv(t))for(let r=Ae;r<t.length;r++){let o=t[r];zv(o,n)}}function kE(e){for(let n=tv(e);n!==null;n=nv(n)){if(!(n[O]&2))continue;let t=n[Ma];for(let r=0;r<t.length;r++){let o=t[r];mm(o)}}}function PE(e,n,t){Q(18);let r=Nt(n,e);zv(r,t),Q(19,r[ye])}function zv(e,n){Xd(e)&&bd(e,n)}function bd(e,n){let r=e[$],o=e[O],i=e[et],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&lu(i)),s||=!1,i&&(i.dirty=!1),e[O]&=-9217,s)OE(r,e,r.template,e[ye]);else if(o&8192){Bv(e),Hv(e,1);let a=r.components;a!==null&&qv(e,a,1),jv(e)}}function qv(e,n,t){for(let r=0;r<n.length;r++)PE(e,n[r],t)}function FE(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)tr(~o);else{let i=o,s=t[++r],a=t[++r];mb(s,i);let l=n[i];Q(24,l),a(2,l),Q(25,l)}}}finally{tr(-1)}}function Tf(e,n){let t=Cm()?64:1088;for(e[rn].changeDetectionScheduler?.notify(n);e;){e[O]|=t;let r=er(e);if(Ta(e)&&!r)return e;e=r}return null}function Gv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Wv(e,n){let t=Ae+n;if(t<e.length)return e[t]}function al(e,n,t,r=!0){let o=n[$];if(LE(o,n,e,t),r){let s=Dd(t,e),a=n[pe],l=a.parentNode(e[Xn]);l!==null&&fE(o,e[_t],a,n,l,s)}let i=n[si];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Zv(e,n){let t=ui(e,n);return t!==void 0&&il(t[$],t),t}function ui(e,n){if(e.length<=Ae)return;let t=Ae+n,r=e[t];if(r){let o=r[Kr];o!==null&&o!==e&&If(o,r),n>0&&(e[t-1][mt]=r[mt]);let i=ba(e,Ae+n);dE(r[$],r);let s=i[Yr];s!==null&&s.detachView(i[$]),r[Ne]=null,r[mt]=null,r[O]&=-129}return r}function LE(e,n,t,r){let o=Ae+r,i=t.length;r>0&&(t[o-1][mt]=n),r<i-Ae?(n[mt]=t[o],Qg(t,Ae+r,n)):(t.push(n),n[mt]=null),n[Ne]=t;let s=n[Kr];s!==null&&t!==s&&Kv(s,n);let a=n[Yr];a!==null&&a.insertView(e),Ju(n),n[O]|=128}function Kv(e,n){let t=e[Ma],r=n[Ne];if(En(r))e[O]|=2;else{let o=r[Ne][vt];n[vt]!==o&&(e[O]|=2)}t===null?e[Ma]=[n]:t.push(n)}var di=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[$];return La(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ye]}set context(n){this._lView[ye]=n}get destroyed(){return io(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ne];if(ln(n)){let t=n[Sa],r=t?t.indexOf(this):-1;r>-1&&(ui(n,r),ba(t,r))}this._attachedToViewContainer=!1}il(this._lView[$],this._lView)}onDestroy(n){vm(this._lView,n)}markForCheck(){Tf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){Ju(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Uv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ta(this._lView),t=this._lView[Kr];t!==null&&!n&&If(t,this._lView),Fv(this._lView[$],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n;let t=Ta(this._lView),r=this._lView[Kr];r!==null&&!t&&Kv(r,this._lView),Ju(this._lView)}};var ll=(()=>{class e{static __NG_ELEMENT_ID__=$E}return e})(),jE=ll,VE=class extends jE{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let o=ol(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new di(o)}};function $E(){return BE(je(),z())}function BE(e,n){return e.type&4?new VE(n,e,Xa(e,n)):null}function xf(e,n,t,r,o){let i=e.data[n];if(i===null)i=UE(e,n,t,r,o),gb()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=ub();i.injectorIndex=s===null?-1:s.injectorIndex}return yi(i,!0),i}function UE(e,n,t,r,o){let i=Dm(),s=bm(),a=s?i:i&&i.parent,l=e.data[n]=zE(e,a,t,n,r,o);return HE(e,l,i,s),l}function HE(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function zE(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return ab()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var nF=new RegExp(`^(\\d+)*(${nC}|${tC})*(.*)`);var qE=()=>null;function fi(e,n){return qE(e,n)}var GE=class{},Yv=class{},Cd=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Fe(n)}.`)}},cl=class{static NULL=new Cd},Xr=class{},bt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>WE()}return e})();function WE(){let e=z(),n=je(),t=Nt(n.index,e);return(En(t)?t:e)[pe]}var ZE=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>null})}return e})();var Lu={},Ed=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Ga(r);let o=this.injector.get(n,Lu,r);return o!==Lu||t===Lu?o:this.parentInjector.get(n,t,r)}};function wg(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=zp(o,a);else if(i==2){let l=a,c=n[++s];r=zp(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function D(e,n=V.Default){let t=z();if(t===null)return A(e,n);let r=je();return Bm(r,t,xe(e),n)}function Qv(){let e="invalid";throw new Error(e)}function Jv(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let a,l=null,c=null,u=YE(s);u===null?a=s:[a,l,c]=u,XE(e,n,t,a,i,l,c)}i!==null&&r!==null&&KE(t,r,i)}function KE(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new E(-301,!1);r.push(n[o],i)}}function YE(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&xt(a)&&(n=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,QE(s,r,i,o)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,o,i]):null}function QE(e,n,t,r){let o=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[o,n.length-1])}function JE(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function XE(e,n,t,r,o,i,s){let a=r.length,l=!1;for(let p=0;p<a;p++){let f=r[p];!l&&xt(f)&&(l=!0,JE(e,t,p)),nd(Ra(t,n),e,f.type)}iI(t,e.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=Av(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(t.mergedAttrs=li(t.mergedAttrs,f.hostAttrs),tI(e,t,n,d,f),oI(d,f,o),s!==null&&s.has(f)){let[_,C]=s.get(f);t.directiveToIndex.set(f.type,[d,_+t.directiveStart,C+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}eI(e,t,i)}function eI(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))Dg(0,n,o,r),Dg(1,n,o,r),Cg(n,r,!1);else{let i=t.get(o);bg(0,n,i,r),bg(1,n,i,r),Cg(n,r,!0)}}}function Dg(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),Xv(n,i)}}function bg(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Xv(n,s)}}function Xv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Cg(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||mf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&o.hasOwnProperty(l)){let c=o[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&i.hasOwnProperty(l)){let c=i[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function tI(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=Kn(o.type,!0)),s=new nr(i,xt(o),D);e.blueprint[r]=s,t[r]=s,nI(e,n,r,Av(e,t,o.hostVars,nt),o)}function nI(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;rI(s)!=a&&s.push(a),s.push(t,r,i)}}function rI(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function oI(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;xt(n)&&(t[""]=e)}}function iI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function ey(e,n,t,r,o,i,s,a){let l=n.consts,c=Qr(l,s),u=xf(n,e,2,r,c);return i&&Jv(n,t,u,Qr(l,a),o),u.mergedAttrs=li(u.mergedAttrs,u.attrs),u.attrs!==null&&wg(u,u.attrs,!1),u.mergedAttrs!==null&&wg(u,u.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,u),u}function ty(e,n){Rm(e,n),lm(n)&&e.queries.elementEnd(n)}var ja=class extends cl{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Qn(n);return new eo(t,this.ngModule)}};function sI(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&rl.SignalBased)!==0};return o&&(i.transform=o),i})}function aI(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function lI(e,n,t){let r=n instanceof Le?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Ed(t,r):t}function cI(e){let n=e.get(Xr,null);if(n===null)throw new E(407,!1);let t=e.get(ZE,null),r=e.get(Jr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function uI(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return Sv(n,t,t==="svg"?X0:t==="math"?eb:null)}var eo=class extends Yv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aI(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=VC(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o){Q(22);let i=j(null);try{let s=this.componentDef,a=r?["ng-version","19.2.9"]:$C(this.componentDef.selectors[0]),l=vf(0,null,null,1,0,null,null,null,null,[a],null),c=lI(s,o||this.ngModule,n),u=cI(c),d=u.rendererFactory.createRenderer(null,s),p=r?KC(d,r,s.encapsulation,c):uI(s,d),f=yf(null,l,null,512|xv(s),null,null,u,d,c,null,cv(p,c,!0));f[Re]=p,ef(f);let g=null;try{let _=ey(Re,l,f,"#host",()=>[this.componentDef],!0,0);p&&(Tv(d,p,_),Di(p,f)),wf(l,f,_),dv(l,_,f),ty(l,_),t!==void 0&&dI(_,this.ngContentSelectors,t),g=Nt(_.index,f),f[ye]=g[ye],Cf(l,f,null)}catch(_){throw g!==null&&ld(g),ld(f),_}finally{Q(23),tf()}return new Id(this.componentType,f)}finally{j(i)}}},Id=class extends GE{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Jd(t[$],Re),this.location=Xa(this._tNode,t),this.instance=Nt(this._tNode.index,t)[ye],this.hostView=this.changeDetectorRef=new di(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=bf(r,o[$],o,n,t);this.previousInputValues.set(n,t);let s=Nt(r.index,o);Tf(s,1)}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function dI(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var uo=(()=>{class e{static __NG_ELEMENT_ID__=fI}return e})();function fI(){let e=je();return pI(e,z())}var hI=uo,ny=class extends hI{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Xa(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){let n=of(this._hostTNode,this._hostLView);if(Pm(n)){let t=Aa(n,this._hostLView),r=xa(n),o=t[$].data[r+8];return new Wn(o,t)}else return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Eg(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Ae}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=fi(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,ci(this._hostTNode,s)),a}createComponent(n,t,r,o,i){let s=n&&!K0(n),a;if(s)a=t;else{let g=t||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let l=s?n:new eo(Qn(n)),c=r||this.parentInjector;if(!i&&l.ngModule==null){let _=(s?c:this.parentInjector).get(Le,null);_&&(i=_)}let u=Qn(l.componentType??{}),d=fi(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,o,p,i);return this.insertImpl(f.hostView,a,ci(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(tb(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=o[Ne],c=new ny(l,l[_t],l[Ne]);c.detach(c.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return al(s,o,i,r),n.attachToViewContainerRef(),Qg(ju(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Eg(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=ui(this._lContainer,t);r&&(ba(ju(this._lContainer),t),il(r[$],r))}detach(n){let t=this._adjustIndex(n,-1),r=ui(this._lContainer,t);return r&&ba(ju(this._lContainer),t)!=null?new di(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Eg(e){return e[Sa]}function ju(e){return e[Sa]||(e[Sa]=[])}function pI(e,n){let t,r=n[e.index];return ln(r)?t=r:(t=Gv(r,n,null,e),n[e.index]=t,_f(n,t)),mI(t,n,e,r),new ny(t,e,n)}function gI(e,n){let t=e[pe],r=t.createComment(""),o=Lt(n,e),i=t.parentNode(o);return Fa(t,i,r,t.nextSibling(o),!1),r}var mI=_I,vI=()=>!1;function yI(e,n,t){return vI(e,n,t)}function _I(e,n,t,r){if(e[Xn])return;let o;t.type&8?o=At(r):o=gI(n,t),e[Xn]=o}var to=class{},Af=class{};var Sd=class extends to{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ja(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=em(n);this._bootstrapComponents=Ev(i.bootstrap),this._r3Injector=zm(n,t,[{provide:to,useValue:this},{provide:cl,useValue:this.componentFactoryResolver},...r],Fe(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Md=class extends Af{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Sd(this.moduleType,n,[])}};var Va=class extends to{injector;componentFactoryResolver=new ja(this);instance=null;constructor(n){super();let t=new ii([...n.providers,{provide:to,useValue:this},{provide:cl,useValue:this.componentFactoryResolver}],n.parent||Yd(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ci(e,n,t=null){return new Va({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var wI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=tm(!1,t.type),o=r.length>0?Ci([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(A(Le))})}return e})();function be(e){return pi(()=>{let n=ry(e),t=L(w({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(wI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ot.Emulated,styles:e.styles||Xe,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Mn("NgStandalone"),oy(t);let r=e.dependencies;return t.directiveDefs=Ig(r,!1),t.pipeDefs=Ig(r,!0),t.id=II(t),t})}function DI(e){return Qn(e)||F0(e)}function bI(e){return e!==null}function Vt(e){return pi(()=>({type:e.type,bootstrap:e.bootstrap||Xe,declarations:e.declarations||Xe,imports:e.imports||Xe,exports:e.exports||Xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function CI(e,n){if(e==null)return Yn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=rl.None,l=null),t[i]=[r,a,l],n[i]=s}return t}function EI(e){if(e==null)return Yn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function ne(e){return pi(()=>{let n=ry(e);return oy(n),n})}function Ct(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ry(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Yn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Xe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CI(e.inputs,n),outputs:EI(e.outputs),debugInfo:null}}function oy(e){e.features?.forEach(n=>n(e))}function Ig(e,n){if(!e)return null;let t=n?L0:DI;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(bI)}function II(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function SI(e){return Object.getPrototypeOf(e.prototype).constructor}function Ge(e){let n=SI(e.type),t=!0,r=[e];for(;n;){let o;if(xt(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new E(903,!1);o=n.\u0275dir}if(o){if(t){r.push(o);let s=e;s.inputs=Vu(e.inputs),s.declaredInputs=Vu(e.declaredInputs),s.outputs=Vu(e.outputs);let a=o.hostBindings;a&&NI(e,a);let l=o.viewQuery,c=o.contentQueries;if(l&&xI(e,l),c&&AI(e,c),MI(e,o),g0(e.outputs,o.outputs),xt(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===Ge&&(t=!1)}}n=Object.getPrototypeOf(n)}TI(r)}function MI(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function TI(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=n+=o.hostVars,o.hostAttrs=li(o.hostAttrs,t=li(t,o.hostAttrs))}}function Vu(e){return e===Yn?{}:e===Xe?[]:e}function xI(e,n){let t=e.viewQuery;t?e.viewQuery=(r,o)=>{n(r,o),t(r,o)}:e.viewQuery=n}function AI(e,n){let t=e.contentQueries;t?e.contentQueries=(r,o,i)=>{n(r,o,i),t(r,o,i)}:e.contentQueries=n}function NI(e,n){let t=e.hostBindings;t?e.hostBindings=(r,o)=>{n(r,o),t(r,o)}:e.hostBindings=n}function iy(e){return OI(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function RI(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function OI(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Nf(e,n,t){return e[n]=t}function kI(e,n){return e[n]}function kt(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function sy(e,n,t,r){let o=kt(e,n,t);return kt(e,n+1,r)||o}function PI(e,n,t,r,o,i,s,a,l){let c=n.consts,u=xf(n,e,4,s||null,a||null);wm()&&Jv(n,t,u,Qr(c,l),kv),u.mergedAttrs=li(u.mergedAttrs,u.attrs),Rm(n,u);let d=u.tView=vf(2,u,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function Td(e,n,t,r,o,i,s,a,l,c){let u=t+Re,d=n.firstCreatePass?PI(u,n,e,r,o,i,s,a,l):n.data[u];yi(d,!1);let p=FI(n,e,d,t);nf()&&Sf(n,e,p,d),Di(p,e);let f=Gv(p,e,p,d);return e[u]=f,_f(e,f),yI(f,d,e),Qd(d)&&wf(n,e,d),l!=null&&Ov(e,d,c),d}function X(e,n,t,r,o,i,s,a){let l=z(),c=Te(),u=Qr(c.consts,i);return Td(l,c,e,n,t,r,o,u,s,a),X}var FI=LI;function LI(e,n,t,r){return rf(!0),n[pe].createComment("")}var Rf=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var ay=new S("");var jI=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>new xd})}return e})(),xd=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function or(e){return!!e&&typeof e.then=="function"}function ly(e){return!!e&&typeof e.subscribe=="function"}var cy=new S("");function Of(e){return mi([{provide:cy,multi:!0,useValue:e}])}var uy=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=y(cy,{optional:!0})??[];injector=y(qe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=tt(this.injector,o);if(or(i))t.push(i);else if(ly(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ul=new S("");function VI(){du(()=>{throw new E(600,!1)})}function $I(e){return e.isBoundToModule}var BI=10;var In=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(Gb);afterRenderManager=y(lv);zonelessEnabled=y(Ja);rootEffectScheduler=y(jI);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new de;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(ao).hasPendingTasks.pipe(G(t=>!t));constructor(){y(co,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=y(Le);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=qe.NULL){Q(10);let i=t instanceof Yv;if(!this._injector.get(uy).done){let f="";throw new E(405,f)}let a;i?a=t:a=this._injector.get(cl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=$I(a)?void 0:this._injector.get(to),c=r||a.selector,u=a.create(o,[],c,l),d=u.location.nativeElement,p=u.injector.get(ay,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),va(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),Q(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new E(101,!1);let t=j(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,j(t),this.afterTick.next(),Q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<BI;)Q(14),this.synchronizeOnce(),Q(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)UI(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ka(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;va(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ul,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>va(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function va(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function UI(e,n,t,r){if(!t&&!Ka(e))return;Uv(e,n,t&&!r?0:1)}function Ei(e,n,t,r){let o=z(),i=so();if(kt(o,i,n)){let s=Te(),a=Qa();rE(a,o,e,n,t,r)}return Ei}function dy(e,n,t,r){return kt(e,so(),t)?n+Zn(t)+r:nt}function HI(e,n,t,r,o,i){let s=hb(),a=sy(e,s,t,o);return Em(2),a?n+Zn(t)+r+Zn(o)+i:nt}function ha(e,n){return e<<17|n<<2}function rr(e){return e>>17&32767}function zI(e){return(e&2)==2}function qI(e,n){return e&131071|n<<17}function Ad(e){return e|2}function no(e){return(e&131068)>>2}function $u(e,n){return e&-131069|n<<2}function GI(e){return(e&1)===1}function Nd(e){return e|1}function WI(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,a=rr(s),l=no(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||gi(d,u)>0)&&(c=!0)}else u=t;if(o)if(l!==0){let p=rr(e[a+1]);e[r+1]=ha(p,a),p!==0&&(e[p+1]=$u(e[p+1],r)),e[a+1]=qI(e[a+1],r)}else e[r+1]=ha(a,0),a!==0&&(e[a+1]=$u(e[a+1],r)),a=r;else e[r+1]=ha(l,0),a===0?a=r:e[l+1]=$u(e[l+1],r),l=r;c&&(e[r+1]=Ad(e[r+1])),Sg(e,u,r,!0),Sg(e,u,r,!1),ZI(n,u,e,r,i),s=ha(a,l),i?n.classBindings=s:n.styleBindings=s}function ZI(e,n,t,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof n=="string"&&gi(i,n)>=0&&(t[r+1]=Nd(t[r+1]))}function Sg(e,n,t,r){let o=e[t+1],i=n===null,s=r?rr(o):no(o),a=!1;for(;s!==0&&(a===!1||i);){let l=e[s],c=e[s+1];KI(l,n)&&(a=!0,e[s+1]=r?Nd(c):Ad(c)),s=r?rr(c):no(c)}a&&(e[t+1]=r?Ad(o):Nd(o))}function KI(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?gi(e,n)>=0:!1}function F(e,n,t){let r=z(),o=so();if(kt(r,o,n)){let i=Te(),s=Qa();Df(i,s,r,e,n,r[pe],t,!1)}return F}function Mg(e,n,t,r,o){bf(n,e,t,o?"class":"style",r)}function Ii(e,n,t){return fy(e,n,t,!1),Ii}function dl(e,n){return fy(e,n,null,!0),dl}function fy(e,n,t,r){let o=z(),i=Te(),s=Em(2);if(i.firstUpdatePass&&QI(i,e,s,r),n!==nt&&kt(o,s,n)){let a=i.data[Sn()];nS(i,a,o,o[pe],e,o[s+1]=rS(n,t),r,s)}}function YI(e,n){return n>=e.expandoStartIndex}function QI(e,n,t,r){let o=e.data;if(o[t+1]===null){let i=o[Sn()],s=YI(e,t);oS(i,r)&&n===null&&!s&&(n=!1),n=JI(o,i,n,r),WI(o,i,n,t,s,r)}}function JI(e,n,t,r){let o=yb(e),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(t=Bu(null,e,n,t,r),t=hi(t,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=Bu(o,e,n,t,r),i===null){let l=XI(e,n,r);l!==void 0&&Array.isArray(l)&&(l=Bu(null,e,n,l[1],r),l=hi(l,n.attrs,r),eS(e,n,r,l))}else i=tS(e,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),t}function XI(e,n,t){let r=t?n.classBindings:n.styleBindings;if(no(r)!==0)return e[rr(r)]}function eS(e,n,t,r){let o=t?n.classBindings:n.styleBindings;e[rr(o)]=r}function tS(e,n,t){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=hi(r,s,t)}return hi(r,n.attrs,t)}function Bu(e,n,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=n[a],r=hi(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function hi(e,n,t){let r=t?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),k0(e,s,t?!0:n[++i]))}return e===void 0?null:e}function nS(e,n,t,r,o,i,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=GI(c)?Tg(l,n,t,o,no(c),s):void 0;if(!$a(u)){$a(i)||zI(c)&&(i=Tg(l,null,t,o,a,s));let d=hm(Sn(),t);CE(r,s,d,o,i)}}function Tg(e,n,t,r,o,i){let s=n===null,a;for(;o>0;){let l=e[o],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=t[o+1];p===nt&&(p=d?Xe:void 0);let f=d?Nu(p,r):u===r?p:void 0;if(c&&!$a(f)&&(f=Nu(l,r)),$a(f)&&(a=f,s))return a;let g=e[o+1];o=s?rr(g):no(g)}if(n!==null){let l=i?n.residualClasses:n.residualStyles;l!=null&&(a=Nu(l,r))}return a}function $a(e){return e!==void 0}function rS(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Fe(wt(e)))),e}function oS(e,n){return(e.flags&(n?8:16))!==0}var Rd=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),o=Math.max(n,t),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(n,t){this.attach(t,this.detach(n))}};function Uu(e,n,t,r,o){return e===t&&Object.is(n,r)?1:Object.is(o(e,n),o(t,r))?-1:0}function iS(e,n,t){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;i<=s&&i<=l;){let c=e.at(i),u=n[i],d=Uu(i,c,i,u,t);if(d!==0){d<0&&e.updateValue(i,u),i++;continue}let p=e.at(s),f=n[l],g=Uu(s,p,l,f,t);if(g!==0){g<0&&e.updateValue(s,f),s--,l--;continue}let _=t(i,c),C=t(s,p),x=t(i,u);if(Object.is(x,C)){let De=t(l,f);Object.is(De,_)?(e.swap(i,s),e.updateValue(s,f),l--,s--):e.move(s,i),e.updateValue(i,u),i++;continue}if(r??=new Ba,o??=Ag(e,i,s,t),Od(e,r,i,x))e.updateValue(i,u),i++,s++;else if(o.has(x))r.set(_,e.detach(i)),s--;else{let De=e.create(i,n[i]);e.attach(i,De),i++,s++}}for(;i<=l;)xg(e,r,t,i,n[i]),i++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&i<=s;){let u=e.at(i),d=c.value,p=Uu(i,u,i,d,t);if(p!==0)p<0&&e.updateValue(i,d),i++,c=l.next();else{r??=new Ba,o??=Ag(e,i,s,t);let f=t(i,d);if(Od(e,r,i,f))e.updateValue(i,d),i++,s++,c=l.next();else if(!o.has(f))e.attach(i,e.create(i,d)),i++,s++,c=l.next();else{let g=t(i,u);r.set(g,e.detach(i)),s--}}}for(;!c.done;)xg(e,r,t,e.length,c.value),c=l.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function Od(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function xg(e,n,t,r,o){if(Od(e,n,r,t(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Ag(e,n,t,r){let o=new Set;for(let i=n;i<=t;i++)o.add(r(i,e.at(i)));return o}var Ba=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),n(r,t)}}};function oe(e,n){Mn("NgControlFlow");let t=z(),r=so(),o=t[r]!==nt?t[r]:-1,i=o!==-1?Ua(t,Re+o):void 0,s=0;if(kt(t,r,e)){let a=j(null);try{if(i!==void 0&&Zv(i,s),e!==-1){let l=Re+e,c=Ua(t,l),u=Ld(t[$],l),d=fi(c,u.tView.ssrId),p=ol(t,u,n,{dehydratedView:d});al(c,p,s,ci(u,d))}}finally{j(a)}}else if(i!==void 0){let a=Wv(i,s);a!==void 0&&(a[ye]=n)}}var kd=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ae}};function fo(e){return e}var Pd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function ho(e,n,t,r,o,i,s,a,l,c,u,d,p){Mn("NgControlFlow");let f=z(),g=Te(),_=l!==void 0,C=z(),x=a?s.bind(C[vt][ye]):s,De=new Pd(_,x);C[Re+e]=De,Td(f,g,e+1,n,t,r,o,Qr(g.consts,i)),_&&Td(f,g,e+2,l,c,u,d,Qr(g.consts,p))}var Fd=class extends Rd{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ae}at(n){return this.getLView(n)[ye].$implicit}attach(n,t){let r=t[si];this.needsIndexUpdate||=n!==this.length,al(this.lContainer,t,n,ci(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,sS(this.lContainer,n)}create(n,t){let r=fi(this.lContainer,this.templateTNode.tView.ssrId),o=ol(this.hostLView,this.templateTNode,new kd(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(n){il(n[$],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[ye].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ye].$index=n}getLView(n){return aS(this.lContainer,n)}};function po(e){let n=j(null),t=Sn();try{let r=z(),o=r[$],i=r[t],s=t+1,a=Ua(r,s);if(i.liveCollection===void 0){let c=Ld(o,s);i.liveCollection=new Fd(a,r,c)}else i.liveCollection.reset();let l=i.liveCollection;if(iS(l,e,i.trackByFn),l.updateIndexes(),i.hasEmptyBlock){let c=so(),u=l.length===0;if(kt(r,c,u)){let d=t+2,p=Ua(r,d);if(u){let f=Ld(o,d),g=fi(p,f.tView.ssrId),_=ol(r,f,void 0,{dehydratedView:g});al(p,_,0,ci(f,g))}else Zv(p,0)}}}finally{j(n)}}function Ua(e,n){return e[n]}function sS(e,n){return ui(e,n)}function aS(e,n){return Wv(e,n)}function Ld(e,n){return Jd(e,n)}function v(e,n,t,r){let o=z(),i=Te(),s=Re+e,a=o[pe],l=i.firstCreatePass?ey(s,i,o,n,kv,wm(),t,r):i.data[s],c=lS(i,o,l,a,n,e);o[s]=c;let u=Qd(l);return yi(l,!0),Tv(a,c,l),!Pv(l)&&nf()&&Sf(i,o,c,l),(ob()===0||u)&&Di(c,o),ib(),u&&(wf(i,o,l),dv(i,l,o)),r!==null&&Ov(o,l),v}function m(){let e=je();bm()?db():(e=e.parent,yi(e,!1));let n=e;lb(n)&&cb(),sb();let t=Te();return t.firstCreatePass&&ty(t,n),n.classesWithoutHost!=null&&Eb(n)&&Mg(t,n,z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Ib(n)&&Mg(t,n,z(),n.stylesWithoutHost,!1),m}function T(e,n,t,r){return v(e,n,t,r),m(),T}var lS=(e,n,t,r,o,i)=>(rf(!0),Sv(r,o,Db()));function rt(){return z()}var Ha="en-US";var cS=Ha;function uS(e){typeof e=="string"&&(cS=e.toLowerCase().replace(/_/g,"-"))}function Ng(e,n,t){return function r(o){if(o===Function)return t;let i=oo(e)?Nt(e.index,n):n;Tf(i,5);let s=n[ye],a=Rg(n,s,t,o),l=r.__ngNextListenerFn__;for(;l;)a=Rg(n,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Rg(e,n,t,r){let o=j(null);try{return Q(6,n,t),t(r)!==!1}catch(i){return dS(e,i),!1}finally{Q(7,n,t),j(o)}}function dS(e,n){let t=e[Jn],r=t?t.get(Rt,null):null;r&&r.handleError(n)}function Og(e,n,t,r,o,i){let s=n[t],a=n[$],c=a.data[t].outputs[r],u=s[c],d=a.firstCreatePass?_m(a):null,p=ym(n),f=u.subscribe(i),g=p.length;p.push(i,f),d&&d.push(o,e.index,g,-(g+1))}var fS=new Map;function q(e,n,t,r){let o=z(),i=Te(),s=je();return hy(i,o,o[pe],s,e,n,r),q}function hS(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=n[Ea],l=o[i+2];return a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function hy(e,n,t,r,o,i,s){let a=Qd(r),c=e.firstCreatePass?_m(e):null,u=ym(n),d=!0;if(r.type&3||s){let p=Lt(r,n),f=s?s(p):p,g=u.length,_=s?x=>s(At(x[r.index])):r.index,C=null;if(!s&&a&&(C=hS(e,n,o,r.index)),C!==null){let x=C.__ngLastListenerFn__||C;x.__ngNextListenerFn__=i,C.__ngLastListenerFn__=i,d=!1}else{i=Ng(r,n,i);let x=n[Jn].get(el);fS.get(x)?.(f,o,i);let Me=t.listen(f,o,i);u.push(i,Me),c&&c.push(o,_,g,g+1)}}else i=Ng(r,n,i);if(d){let p=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let _=f[g],C=f[g+1];Og(r,n,_,C,o,i)}if(p&&p.length)for(let g of p)Og(r,n,g,o,o,i)}}function W(e=1){return wb(e)}function kf(e,n,t){return py(e,"",n,"",t),kf}function py(e,n,t,r,o){let i=z(),s=dy(i,n,t,r);if(s!==nt){let a=Te(),l=Qa();Df(a,l,i,e,s,i[pe],o,!1)}return py}function pS(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function gy(e){let n=fb();return pm(n,Re+e)}function b(e,n=""){let t=z(),r=Te(),o=e+Re,i=r.firstCreatePass?xf(r,o,1,n,null):r.data[o],s=gS(r,t,i,n,e);t[o]=s,nf()&&Sf(r,t,s,i),yi(i,!1)}var gS=(e,n,t,r,o)=>(rf(!0),BC(n[pe],r));function ir(e){return go("",e,""),ir}function go(e,n,t){let r=z(),o=dy(r,e,n,t);return o!==nt&&my(r,Sn(),o),go}function fl(e,n,t,r,o){let i=z(),s=HI(i,e,n,t,r,o);return s!==nt&&my(i,Sn(),s),fl}function my(e,n,t){let r=hm(n,e);UC(e[pe],r,t)}function Si(e,n,t){Qm(n)&&(n=n());let r=z(),o=so();if(kt(r,o,n)){let i=Te(),s=Qa();Df(i,s,r,e,n,r[pe],t,!1)}return Si}function hl(e,n){let t=Qm(e);return t&&e.set(n),t}function Mi(e,n){let t=z(),r=Te(),o=je();return hy(r,t,t[pe],o,e,n),Mi}function mS(e,n,t){let r=Te();if(r.firstCreatePass){let o=xt(e);jd(t,r.data,r.blueprint,o,!0),jd(n,r.data,r.blueprint,o,!1)}}function jd(e,n,t,r,o){if(e=xe(e),Array.isArray(e))for(let i=0;i<e.length;i++)jd(e[i],n,t,r,o);else{let i=Te(),s=z(),a=je(),l=Zr(e)?e:xe(e.provide),c=om(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Zr(e)||!e.multi){let f=new nr(c,o,D),g=zu(l,n,o?u:u+p,d);g===-1?(nd(Ra(a,s),i,l),Hu(i,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=zu(l,n,u+p,d),g=zu(l,n,u,u+p),_=f>=0&&t[f],C=g>=0&&t[g];if(o&&!C||!o&&!_){nd(Ra(a,s),i,l);let x=_S(o?yS:vS,t.length,o,r,c);!o&&C&&(t[g].providerFactory=x),Hu(i,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(x),s.push(x)}else{let x=vy(t[o?g:f],c,!o&&r);Hu(i,e,f>-1?f:g,x)}!o&&r&&C&&t[g].componentProviders++}}}function Hu(e,n,t,r){let o=Zr(n),i=U0(n);if(o||i){let l=(i?xe(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function vy(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function zu(e,n,t,r){for(let o=t;o<r;o++)if(n[o]===e)return o;return-1}function vS(e,n,t,r){return Vd(this.multi,[])}function yS(e,n,t,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Oa(t,t[$],this.providerFactory.index,r);i=a.slice(0,s),Vd(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],Vd(o,i);return i}function Vd(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function _S(e,n,t,r,o){let i=new nr(e,t,D);return i.multi=[],i.index=n,i.componentProviders=0,vy(i,o,r&&!t),i}function fn(e,n=[]){return t=>{t.providersResolver=(r,o)=>mS(r,o?o(e):e,n)}}function xn(e,n,t){let r=Ya()+e,o=z();return o[r]===nt?Nf(o,r,t?n.call(t):n()):kI(o,r)}function $t(e,n,t,r){return wy(z(),Ya(),e,n,t,r)}function yy(e,n,t,r,o){return wS(z(),Ya(),e,n,t,r,o)}function _y(e,n){let t=e[n];return t===nt?void 0:t}function wy(e,n,t,r,o,i){let s=n+t;return kt(e,s,o)?Nf(e,s+1,i?r.call(i,o):r(o)):_y(e,s+1)}function wS(e,n,t,r,o,i,s){let a=n+t;return sy(e,a,o,i)?Nf(e,a+2,s?r.call(s,o,i):r(o,i)):_y(e,a+2)}function ot(e,n){let t=Te(),r,o=e+Re;t.firstCreatePass?(r=DS(n,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks??=[]).push(o,r.onDestroy)):r=t.data[o];let i=r.factory||(r.factory=Kn(r.type,!0)),s,a=Pe(D);try{let l=Na(!1),c=i();return Na(l),pS(t,z(),o,c),c}finally{Pe(a)}}function DS(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function it(e,n,t){let r=e+Re,o=z(),i=pm(o,r);return bS(o,r)?wy(o,Ya(),n,i.transform,t,i):i.transform(t)}function bS(e,n){return e[$].data[n].pure}var $d=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Dy=(()=>{class e{compileModuleSync(t){return new Md(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=em(t),i=Ev(o.declarations).reduce((s,a)=>{let l=Qn(a);return l&&s.push(new eo(l)),s},[]);return new $d(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var CS=(()=>{class e{zone=y(ie);changeDetectionScheduler=y(Jr);applicationRef=y(In);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ES=new S("",{factory:()=>!1});function by({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ie(L(w({},Ey()),{scheduleInRootZone:t})),[{provide:ie,useFactory:e},{provide:Wr,multi:!0,useFactory:()=>{let r=y(CS,{optional:!0});return()=>r.initialize()}},{provide:Wr,multi:!0,useFactory:()=>{let r=y(IS);return()=>{r.initialize()}}},n===!0?{provide:Gm,useValue:!0}:[],{provide:Wm,useValue:t??qm}]}function Cy(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=by({ngZoneFactory:()=>{let o=Ey(e);return o.scheduleInRootZone=t,o.shouldCoalesceEventChangeDetection&&Mn("NgZone_CoalesceEvent"),new ie(o)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return mi([{provide:ES,useValue:!0},{provide:Ja,useValue:!1},r])}function Ey(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var IS=(()=>{class e{subscription=new ue;initialized=!1;zone=y(ie);pendingTasks=y(ao);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var SS=(()=>{class e{appRef=y(In);taskService=y(ao);ngZone=y(ie);zonelessEnabled=y(Ja);tracing=y(co,{optional:!0});disableScheduling=y(Gm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(Wm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ad||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?ig:Zm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ig(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MS(){return typeof $localize<"u"&&$localize.locale||Ha}var Pf=new S("",{providedIn:"root",factory:()=>y(Pf,V.Optional|V.SkipSelf)||MS()});var Bd=new S(""),TS=new S("");function ti(e){return!e.moduleRef}function xS(e){let n=ti(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ie);return t.run(()=>{ti(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Rt,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),ti(e)){let i=()=>n.destroy(),s=e.platformInjector.get(Bd);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Bd);s.add(i),e.moduleRef.onDestroy(()=>{va(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return NS(r,t,()=>{let i=n.get(uy);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(Pf,Ha);if(uS(s||Ha),!n.get(TS,!0))return ti(e)?n.get(In):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ti(e)){let l=n.get(In);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return AS(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function AS(e,n){let t=e.injector.get(In);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new E(-403,!1);n.push(e)}function NS(e,n,t){try{let r=t();return or(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var ya=null;function RS(e=[],n){return qe.create({name:n,providers:[{provide:Wa,useValue:"platform"},{provide:Bd,useValue:new Set([()=>ya=null])},...e]})}function OS(e=[]){if(ya)return ya;let n=RS(e);return ya=n,VI(),kS(n),n}function kS(e){let n=e.get(cf,null);tt(e,()=>{n?.forEach(t=>t())})}var hn=(()=>{class e{static __NG_ELEMENT_ID__=PS}return e})();function PS(e){return FS(je(),z(),(e&16)===16)}function FS(e,n,t){if(oo(e)&&!t){let r=Nt(e.index,n);return new di(r,r)}else if(e.type&175){let r=n[vt];return new di(r,n)}return null}var Ud=class{constructor(){}supports(n){return iy(n)}create(n){return new Hd(n)}},LS=(e,n)=>n,Hd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||LS}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<kg(r,o,i)?t:r,a=kg(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let c=a-o,u=l-o;if(c!=u){for(let p=0;p<c;p++){let f=p<i.length?i[p]:i[p]=0,g=f+p;u<=g&&g<c&&(i[p]=f+1)}let d=s.previousIndex;i[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!iy(n))throw new E(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,RI(n,a=>{s=this._trackByFn(o,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return n===null?i=this._itTail:(i=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,o),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new zd(t,r),i,o)),n}_verifyReinsertion(n,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,i=n._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let o=t===null?this._itHead:t._next;return n._next=o,n._prev=t,o===null?this._itTail=n:o._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new za),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new za),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},zd=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},qd=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},za=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new qd,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,o=this.map.get(r);return o?o.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kg(e,n,t){let r=e.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function Pg(){return new Ff([new Ud])}var Ff=(()=>{class e{factories;static \u0275prov=I({token:e,providedIn:"root",factory:Pg});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Pg()),deps:[[e,new R0,new Yg]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new E(901,!1)}}return e})();function Iy(e){Q(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,o=OS(r),i=[by({}),{provide:Jr,useExisting:SS},...t||[]],s=new Va({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return xS({r3Injector:s.injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}finally{Q(9)}}function sr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function pn(e){return pu(e)}function Ti(e,n){return uu(e,n?.equal)}var Fg=class{[Qe];constructor(n){this[Qe]=n}destroy(){this[Qe].destroy()}};function Sy(e){let n=Qn(e);if(!n)return null;let t=new eo(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var _e=new S("");var xy=null;function st(){return xy}function Lf(e){xy??=e}var xi=class{},Ai=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(Ay),providedIn:"platform"})}return e})(),jf=new S(""),Ay=(()=>{class e extends Ai{_location;_history;_doc=y(_e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return st().getBaseHref(this._doc)}onPopState(t){let r=st().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=st().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function pl(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function My(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Et(e){return e&&e[0]!=="?"?`?${e}`:e}var It=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(ml),providedIn:"root"})}return e})(),gl=new S(""),ml=(()=>{class e extends It{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pl(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Et(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Et(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Et(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(A(Ai),A(gl,8))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),An=(()=>{class e{_subject=new de;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=$S(My(Ty(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Et(r))}normalize(t){return e.stripTrailingSlash(VS(this._basePath,Ty(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Et(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Et(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Et;static joinWithSlash=pl;static stripTrailingSlash=My;static \u0275fac=function(r){return new(r||e)(A(It))};static \u0275prov=I({token:e,factory:()=>jS(),providedIn:"root"})}return e})();function jS(){return new An(A(It))}function VS(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Ty(e){return e.replace(/\/index.html$/,"")}function $S(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Vf=(()=>{class e extends It{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=pl(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Et(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Et(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(A(Ai),A(gl,8))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();var vl=class{$implicit;ngForOf;index;count;constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_l=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new vl(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Ny(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Ny(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(D(uo),D(ll),D(Ff))};static \u0275dir=ne({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function Ny(e,n){e.context.$implicit=n.item}var Ni=(()=>{class e{_viewContainer;_context=new yl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ry(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ry(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(D(uo),D(ll))};static \u0275dir=ne({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),yl=class{$implicit=null;ngIf=null};function Ry(e,n){if(e&&!e.createEmbeddedView)throw new E(2020,!1)}var Nn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Vt({type:e});static \u0275inj=Pt({})}return e})();function $f(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var Bf="browser",Oy="server";function wl(e){return e===Oy}var Ri=class{};var Py=(()=>{class e{static \u0275prov=I({token:e,providedIn:"root",factory:()=>new Uf(y(_e),window)})}return e})(),Uf=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=BS(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function BS(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}var El=new S(""),Gf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(A(El),A(ie))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Oi=class{_doc;constructor(n){this._doc=n}manager},bl="ng-app-id";function Fy(e){for(let n of e)n.remove()}function Ly(e,n){let t=n.createElement("style");return t.textContent=e,t}function US(e,n,t,r){let o=e.head?.querySelectorAll(`style[${bl}="${n}"],link[${bl}="${n}"]`);if(o)for(let i of o)i.removeAttribute(bl),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function zf(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Wf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=wl(i),US(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,Ly);r?.forEach(o=>this.addUsage(o,this.external,zf))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(Fy(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Fy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,Ly(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,zf(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(bl,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(A(_e),A(el),A(uf,8),A(lo))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Hf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zf=/%COMP%/g;var Vy="%COMP%",HS=`_nghost-${Vy}`,zS=`_ngcontent-${Vy}`,qS=!0,GS=new S("",{providedIn:"root",factory:()=>qS});function WS(e){return zS.replace(Zf,e)}function ZS(e){return HS.replace(Zf,e)}function $y(e,n){return n.map(t=>t.replace(Zf,e))}var Kf=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=wl(a),this.defaultRenderer=new ki(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ot.ShadowDom&&(r=L(w({},r),{encapsulation:Ot.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof Cl?o.applyToHost(t):o instanceof Pi&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Ot.Emulated:i=new Cl(l,c,r,this.appId,u,s,a,d,p);break;case Ot.ShadowDom:return new qf(l,c,t,r,s,a,this.nonce,d,p);default:i=new Pi(l,c,r,u,s,a,d,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(A(Gf),A(Wf),A(el),A(GS),A(_e),A(lo),A(ie),A(uf),A(co,8))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),ki=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Hf[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(jy(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(jy(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=Hf[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=Hf[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(sn.DashCase|sn.Important)?n.style.setProperty(t,r,o&sn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&sn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=st().getGlobalEventTarget(this.doc,n),!n))throw new E(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function jy(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qf=class extends ki{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,a,l,c){super(n,i,s,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=o.styles;u=$y(o.id,u);for(let p of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let p of d){let f=zf(p,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pi=class extends ki{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,a,l,c){super(n,i,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?$y(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Cl=class extends Pi{contentAttr;hostAttr;constructor(n,t,r,o,i,s,a,l,c){let u=o+"-"+r.id;super(n,t,r,i,s,a,l,c,u),this.contentAttr=WS(u),this.hostAttr=ZS(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Il=class e extends xi{supportsDOMEvents=!0;static makeCurrent(){Lf(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=KS();return t==null?null:YS(t)}resetBaseElement(){Fi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return $f(document.cookie,n)}},Fi=null;function KS(){return Fi=Fi||document.querySelector("base"),Fi?Fi.getAttribute("href"):null}function YS(e){return new URL(e,document.baseURI).pathname}var QS=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),Uy=(()=>{class e extends Oi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(A(_e))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})(),By=["alt","control","meta","shift"],JS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Hy=(()=>{class e extends Oi{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>st().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),By.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let o=JS[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),By.forEach(s=>{if(s!==o){let a=XS[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(A(_e))};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function Yf(e,n){return Iy(w({rootComponent:e},eM(n)))}function eM(e){return{appProviders:[...iM,...e?.providers??[]],platformProviders:oM}}function tM(){Il.makeCurrent()}function nM(){return new Rt}function rM(){return ov(document),document}var oM=[{provide:lo,useValue:Bf},{provide:cf,useValue:tM,multi:!0},{provide:_e,useFactory:rM}];var iM=[{provide:Wa,useValue:"root"},{provide:Rt,useFactory:nM},{provide:El,useClass:Uy,multi:!0,deps:[_e]},{provide:El,useClass:Hy,multi:!0,deps:[_e]},Kf,Wf,Gf,{provide:Xr,useExisting:Kf},{provide:Ri,useClass:QS},[]];var zy=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(A(_e))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Li=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=A(sM),o},providedIn:"root"})}return e})(),sM=(()=>{class e extends Li{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Dt.NONE:return r;case Dt.HTML:return un(r,"HTML")?wt(r):hf(this._doc,String(r)).toString();case Dt.STYLE:return un(r,"Style")?wt(r):r;case Dt.SCRIPT:if(un(r,"Script"))return wt(r);throw new E(5200,!1);case Dt.URL:return un(r,"URL")?wt(r):nl(String(r));case Dt.RESOURCE_URL:if(un(r,"ResourceURL"))return wt(r);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(t){return hv(t)}bypassSecurityTrustStyle(t){return pv(t)}bypassSecurityTrustScript(t){return gv(t)}bypassSecurityTrustUrl(t){return mv(t)}bypassSecurityTrustResourceUrl(t){return vv(t)}static \u0275fac=function(r){return new(r||e)(A(_e))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var P="primary",Yi=Symbol("RouteTitle"),nh=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function cr(e){return new nh(e)}function Jy(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function aM(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Bt(e[t],n[t]))return!1;return!0}function Bt(e,n){let t=e?rh(e):void 0,r=n?rh(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Xy(e[o],n[o]))return!1;return!0}function rh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Xy(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function e_(e){return e.length>0?e[e.length-1]:null}function Fn(e){return Iu(e)?e:or(e)?te(Promise.resolve(e)):N(e)}var lM={exact:n_,subset:r_},t_={exact:cM,subset:uM,ignored:()=>!0};function qy(e,n,t){return lM[t.paths](e.root,n.root,t.matrixParams)&&t_[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function cM(e,n){return Bt(e,n)}function n_(e,n,t){if(!ar(e.segments,n.segments)||!Tl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!n_(e.children[r],n.children[r],t))return!1;return!0}function uM(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Xy(e[t],n[t]))}function r_(e,n,t){return o_(e,n,n.segments,t)}function o_(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!ar(o,t)||n.hasChildren()||!Tl(o,t,r))}else if(e.segments.length===t.length){if(!ar(e.segments,t)||!Tl(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!r_(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!ar(e.segments,o)||!Tl(e.segments,o,r)||!e.children[P]?!1:o_(e.children[P],n,i,r)}}function Tl(e,n,t){return n.every((r,o)=>t_[t](e[o].parameters,r.parameters))}var Ht=class{root;queryParams;fragment;_queryParamMap;constructor(n=new K([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=cr(this.queryParams),this._queryParamMap}toString(){return hM.serialize(this)}},K=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xl(this)}},Rn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=cr(this.parameters),this._parameterMap}toString(){return s_(this)}};function dM(e,n){return ar(e,n)&&e.every((t,r)=>Bt(t.parameters,n[r].parameters))}function ar(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function fM(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===P&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==P&&(t=t.concat(n(o,r)))}),t}var ur=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>new On,providedIn:"root"})}return e})(),On=class{parse(n){let t=new ih(n);return new Ht(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${ji(n.root,!0)}`,r=mM(n.queryParams),o=typeof n.fragment=="string"?`#${pM(n.fragment)}`:"";return`${t}${r}${o}`}},hM=new On;function xl(e){return e.segments.map(n=>s_(n)).join("/")}function ji(e,n){if(!e.hasChildren())return xl(e);if(n){let t=e.children[P]?ji(e.children[P],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==P&&r.push(`${o}:${ji(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fM(e,(r,o)=>o===P?[ji(e.children[P],!1)]:[`${o}:${ji(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[P]!=null?`${xl(e)}/${t[0]}`:`${xl(e)}/(${t.join("//")})`}}function i_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sl(e){return i_(e).replace(/%3B/gi,";")}function pM(e){return encodeURI(e)}function oh(e){return i_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Al(e){return decodeURIComponent(e)}function Gy(e){return Al(e.replace(/\+/g,"%20"))}function s_(e){return`${oh(e.path)}${gM(e.parameters)}`}function gM(e){return Object.entries(e).map(([n,t])=>`;${oh(n)}=${oh(t)}`).join("")}function mM(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Sl(t)}=${Sl(o)}`).join("&"):`${Sl(t)}=${Sl(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var vM=/^[^\/()?;#]+/;function Jf(e){let n=e.match(vM);return n?n[0]:""}var yM=/^[^\/()?;=#]+/;function _M(e){let n=e.match(yM);return n?n[0]:""}var wM=/^[^=?&#]+/;function DM(e){let n=e.match(wM);return n?n[0]:""}var bM=/^[^&#]+/;function CM(e){let n=e.match(bM);return n?n[0]:""}var ih=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[P]=new K(n,t)),r}parseSegment(){let n=Jf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new Rn(Al(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=_M(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Jf(this.remaining);o&&(r=o,this.capture(r))}n[Al(t)]=Al(r)}parseQueryParam(n){let t=DM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=CM(this.remaining);s&&(r=s,this.capture(r))}let o=Gy(t),i=Gy(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new E(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=P);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[P]:new K([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}};function a_(e){return e.segments.length>0?new K([],{[P]:e}):e}function l_(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=l_(o);if(r===P&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new K(e.segments,n);return EM(t)}function EM(e){if(e.numberOfChildren===1&&e.children[P]){let n=e.children[P];return new K(e.segments.concat(n.segments),n.children)}return e}function kn(e){return e instanceof Ht}function c_(e,n,t=null,r=null){let o=u_(e);return d_(o,n,t,r)}function u_(e){let n;function t(i){let s={};for(let l of i.children){let c=t(l);s[l.outlet]=c}let a=new K(i.url,s);return i===e&&(n=a),a}let r=t(e.root),o=a_(r);return n??o}function d_(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Xf(o,o,o,t,r);let i=IM(n);if(i.toRoot())return Xf(o,o,new K([],{}),t,r);let s=SM(i,o,e),a=s.processChildren?$i(s.segmentGroup,s.index,i.commands):h_(s.segmentGroup,s.index,i.commands);return Xf(o,s.segmentGroup,a,t,r)}function Rl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ui(e){return typeof e=="object"&&e!=null&&e.outlets}function Xf(e,n,t,r,o){let i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=f_(e,n,t);let a=a_(l_(s));return new Ht(a,i,o)}function f_(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=f_(i,n,t)}),new K(e.segments,r)}var Ol=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Rl(r[0]))throw new E(4003,!1);let o=r.find(Ui);if(o&&o!==e_(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ol(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Ol(t,n,r)}var yo=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function SM(e,n,t){if(e.isAbsolute)return new yo(n,!0,0);if(!t)return new yo(n,!1,NaN);if(t.parent===null)return new yo(t,!0,0);let r=Rl(e.commands[0])?0:1,o=t.segments.length-1+r;return MM(t,o,e.numberOfDoubleDots)}function MM(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new E(4005,!1);o=r.segments.length}return new yo(r,!1,o-i)}function TM(e){return Ui(e[0])?e[0].outlets:{[P]:e}}function h_(e,n,t){if(e??=new K([],{}),e.segments.length===0&&e.hasChildren())return $i(e,n,t);let r=xM(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new K(e.segments.slice(0,r.pathIndex),{});return i.children[P]=new K(e.segments.slice(r.pathIndex),e.children),$i(i,0,o)}else return r.match&&o.length===0?new K(e.segments,{}):r.match&&!e.hasChildren()?sh(e,n,t):r.match?$i(e,0,o):sh(e,n,t)}function $i(e,n,t){if(t.length===0)return new K(e.segments,{});{let r=TM(t),o={};if(Object.keys(r).some(i=>i!==P)&&e.children[P]&&e.numberOfChildren===1&&e.children[P].segments.length===0){let i=$i(e.children[P],n,t);return new K(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=h_(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new K(e.segments,o)}}function xM(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],a=t[r];if(Ui(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Zy(l,c,s))return i;r+=2}else{if(!Zy(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function sh(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(Ui(i)){let l=AM(i.outlets);return new K(r,l)}if(o===0&&Rl(t[0])){let l=e.segments[n];r.push(new Rn(l.path,Wy(t[0]))),o++;continue}let s=Ui(i)?i.outlets[P]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Rl(a)?(r.push(new Rn(s,Wy(a))),o+=2):(r.push(new Rn(s,{})),o++)}return new K(r,{})}function AM(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=sh(new K([],{}),0,r))}),n}function Wy(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function Zy(e,n,t){return e==t.path&&Bt(n,t.parameters)}var Nl="imperative",we=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(we||{}),Ze=class{id;url;constructor(n,t){this.id=n,this.url=t}},Pn=class extends Ze{type=we.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},at=class extends Ze{urlAfterRedirects;type=we.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ve=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ve||{}),wo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(wo||{}),Ut=class extends Ze{reason;code;type=we.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zt=class extends Ze{reason;code;type=we.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},Do=class extends Ze{error;target;type=we.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hi=class extends Ze{urlAfterRedirects;state;type=we.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kl=class extends Ze{urlAfterRedirects;state;type=we.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pl=class extends Ze{urlAfterRedirects;state;shouldActivate;type=we.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fl=class extends Ze{urlAfterRedirects;state;type=we.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ll=class extends Ze{urlAfterRedirects;state;type=we.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jl=class{route;type=we.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vl=class{route;type=we.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$l=class{snapshot;type=we.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bl=class{snapshot;type=we.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{snapshot;type=we.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hl=class{snapshot;type=we.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bo=class{routerEvent;position;anchor;type=we.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},zi=class{},Co=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function NM(e,n){return e.providers&&!e._injector&&(e._injector=Ci(e.providers,n,`Route: ${e.path}`)),e._injector??n}function St(e){return e.outlet||P}function RM(e,n){let t=e.filter(r=>St(r)===n);return t.push(...e.filter(r=>St(r)!==n)),t}function Qi(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Qi(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new dr(this.rootInjector)}},dr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(A(Le))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ql=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=ah(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=ah(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=lh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return lh(n,this._root).map(t=>t.value)}};function ah(e,n){if(e===n.value)return n;for(let t of n.children){let r=ah(e,t);if(r)return r}return null}function lh(e,n){if(e===n.value)return[n];for(let t of n.children){let r=lh(e,t);if(r.length)return r.unshift(n),r}return[]}var We=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function vo(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var qi=class extends ql{snapshot;constructor(n,t){super(n),this.snapshot=t,mh(this,n)}toString(){return this.snapshot.toString()}};function p_(e){let n=OM(e),t=new Ee([new Rn("",{})]),r=new Ee({}),o=new Ee({}),i=new Ee({}),s=new Ee(""),a=new Ce(t,r,i,s,o,P,e,n.root);return a.snapshot=n.root,new qi(new We(a,[]),n)}function OM(e){let n={},t={},r={},o="",i=new lr([],n,r,o,t,P,e,null,{});return new Gi("",new We(i,[]))}var Ce=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(G(c=>c[Yi]))??N(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(n=>cr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(n=>cr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gl(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:w(w({},n.params),e.params),data:w(w({},n.data),e.data),resolve:w(w(w(w({},e.data),n.data),o?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},o&&m_(o)&&(r.resolve[Yi]=o.title),r}var lr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Yi]}constructor(n,t,r,o,i,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Gi=class extends ql{url;constructor(n,t){super(t),this.url=n,mh(this,t)}toString(){return g_(this._root)}};function mh(e,n){n.value._routerState=e,n.children.forEach(t=>mh(e,t))}function g_(e){let n=e.children.length>0?` { ${e.children.map(g_).join(", ")} } `:"";return`${e.value}${n}`}function eh(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Bt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Bt(n.params,t.params)||e.paramsSubject.next(t.params),aM(n.url,t.url)||e.urlSubject.next(t.url),Bt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ch(e,n){let t=Bt(e.params,n.params)&&dM(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||ch(e.parent,n.parent))}function m_(e){return typeof e.title=="string"||e.title===null}var v_=new S(""),Ji=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=P;activateEvents=new he;deactivateEvents=new he;attachEvents=new he;detachEvents=new he;routerOutletData=Ym(void 0);parentContexts=y(dr);location=y(uo);changeDetector=y(hn);inputBinder=y(Xi,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new uh(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ne({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ft]})}return e})(),uh=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===Ce?this.route:n===dr?this.childContexts:n===v_?this.outletData:this.parent.get(n,t)}},Xi=new S(""),vh=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=Xo([r.queryParams,r.params,r.data]).pipe(Je(([i,s,a],l)=>(a=w(w(w({},i),s),a),l===0?N(a):Promise.resolve(a)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Sy(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function kM(e,n,t){let r=Wi(e,n._root,t?t._root:void 0);return new qi(r,n)}function Wi(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=PM(e,n,t);return new We(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Wi(e,a)),s}}let r=FM(n.value),o=n.children.map(i=>Wi(e,i));return new We(r,o)}}function PM(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Wi(e,r,o);return Wi(e,r)})}function FM(e){return new Ce(new Ee(e.url),new Ee(e.params),new Ee(e.queryParams),new Ee(e.fragment),new Ee(e.data),e.outlet,e.component,e)}var Eo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},y_="ngNavigationCancelingError";function Wl(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=kn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=__(!1,Ve.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function __(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[y_]=!0,t.cancellationCode=n,t}function LM(e){return w_(e)&&kn(e.url)}function w_(e){return!!e&&e[y_]}var jM=(e,n,t,r)=>G(o=>(new dh(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),dh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),eh(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=vo(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=vo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=vo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=vo(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Hl(i.value.snapshot))}),n.children.length&&this.forwardEvent(new Bl(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(eh(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eh(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Zl=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},_o=class{component;route;constructor(n,t){this.component=n,this.route=t}};function VM(e,n,t){let r=e._root,o=n?n._root:null;return Vi(r,o,t,[r.value])}function $M(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function So(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Ug(e)?e:n.get(e):r}function Vi(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=vo(n);return e.children.forEach(s=>{BM(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Bi(a,t.getContext(s),o)),o}function BM(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=UM(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Zl(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Vi(e,n,a?a.children:null,r,o):Vi(e,n,t,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new _o(a.outlet.component,s))}else s&&Bi(n,a,o),o.canActivateChecks.push(new Zl(r)),i.component?Vi(e,null,a?a.children:null,r,o):Vi(e,null,t,r,o);return o}function UM(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!ar(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ar(e.url,n.url)||!Bt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ch(e,n)||!Bt(e.queryParams,n.queryParams);case"paramsChange":default:return!ch(e,n)}}function Bi(e,n,t){let r=vo(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?Bi(s,n.children.getContext(i),t):Bi(s,null,t):Bi(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new _o(n.outlet.component,o)):t.canDeactivateChecks.push(new _o(null,o)):t.canDeactivateChecks.push(new _o(null,o))}function es(e){return typeof e=="function"}function HM(e){return typeof e=="boolean"}function zM(e){return e&&es(e.canLoad)}function qM(e){return e&&es(e.canActivate)}function GM(e){return e&&es(e.canActivateChild)}function WM(e){return e&&es(e.canDeactivate)}function ZM(e){return e&&es(e.canMatch)}function D_(e){return e instanceof Xt||e?.name==="EmptyError"}var Ml=Symbol("INITIAL_VALUE");function Io(){return Je(e=>Xo(e.map(n=>n.pipe(tn(1),xu(Ml)))).pipe(G(n=>{for(let t of n)if(t!==!0){if(t===Ml)return Ml;if(t===!1||KM(t))return t}return!0}),ze(n=>n!==Ml),tn(1)))}function KM(e){return kn(e)||e instanceof Eo}function YM(e,n){return ae(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?N(L(w({},t),{guardsResult:!0})):QM(s,r,o,e).pipe(ae(a=>a&&HM(a)?JM(r,i,e,n):N(a)),G(a=>L(w({},t),{guardsResult:a})))})}function QM(e,n,t,r){return te(e).pipe(ae(o=>rT(o.component,o.route,t,n,r)),nn(o=>o!==!0,!0))}function JM(e,n,t,r){return te(n).pipe(Dn(o=>jr(eT(o.route.parent,r),XM(o.route,r),nT(e,o.path,t),tT(e,o.route,t))),nn(o=>o!==!0,!0))}function XM(e,n){return e!==null&&n&&n(new Ul(e)),N(!0)}function eT(e,n){return e!==null&&n&&n(new $l(e)),N(!0)}function tT(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let o=r.map(i=>aa(()=>{let s=Qi(n)??t,a=So(i,s),l=qM(a)?a.canActivate(n,e):tt(s,()=>a(n,e));return Fn(l).pipe(nn())}));return N(o).pipe(Io())}function nT(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>$M(s)).filter(s=>s!==null).map(s=>aa(()=>{let a=s.guards.map(l=>{let c=Qi(s.node)??t,u=So(l,c),d=GM(u)?u.canActivateChild(r,e):tt(c,()=>u(r,e));return Fn(d).pipe(nn())});return N(a).pipe(Io())}));return N(i).pipe(Io())}function rT(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return N(!0);let s=i.map(a=>{let l=Qi(n)??o,c=So(a,l),u=WM(c)?c.canDeactivate(e,n,t,r):tt(l,()=>c(e,n,t,r));return Fn(u).pipe(nn())});return N(s).pipe(Io())}function oT(e,n,t,r){let o=n.canLoad;if(o===void 0||o.length===0)return N(!0);let i=o.map(s=>{let a=So(s,e),l=zM(a)?a.canLoad(n,t):tt(e,()=>a(n,t));return Fn(l)});return N(i).pipe(Io(),b_(r))}function b_(e){return Du(Ie(n=>{if(typeof n!="boolean")throw Wl(e,n)}),G(n=>n===!0))}function iT(e,n,t,r){let o=n.canMatch;if(!o||o.length===0)return N(!0);let i=o.map(s=>{let a=So(s,e),l=ZM(a)?a.canMatch(n,t):tt(e,()=>a(n,t));return Fn(l)});return N(i).pipe(Io(),b_(r))}var Zi=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ki=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function mo(e){return Fr(new Zi(e))}function sT(e){return Fr(new E(4e3,!1))}function aT(e){return Fr(__(!1,Ve.GuardRejected))}var fh=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return N(r);if(o.numberOfChildren>1||!o.children[P])return sT(`${n.redirectTo}`);o=o.children[P]}}applyRedirectCommands(n,t,r,o,i){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,params:f,data:g,title:_}=o,C=tt(i,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:p,title:_}));if(C instanceof Ht)throw new Ki(C);t=C}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Ki(s);return s}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new Ht(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,o)}),new K(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new E(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}},hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lT(e,n,t,r,o){let i=C_(e,n,t);return i.matched?(r=NM(n,r),iT(r,n,t,o).pipe(G(s=>s===!0?i:w({},hh)))):N(i)}function C_(e,n,t){if(n.path==="**")return cT(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?w({},hh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||Jy)(t,e,n);if(!o)return w({},hh);let i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function cT(e){return{matched:!0,parameters:e.length>0?e_(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Ky(e,n,t,r){return t.length>0&&fT(e,t,r)?{segmentGroup:new K(n,dT(r,new K(t,e.children))),slicedSegments:[]}:t.length===0&&hT(e,t,r)?{segmentGroup:new K(e.segments,uT(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new K(e.segments,e.children),slicedSegments:t}}function uT(e,n,t,r){let o={};for(let i of t)if(Yl(e,n,i)&&!r[St(i)]){let s=new K([],{});o[St(i)]=s}return w(w({},r),o)}function dT(e,n){let t={};t[P]=n;for(let r of e)if(r.path===""&&St(r)!==P){let o=new K([],{});t[St(r)]=o}return t}function fT(e,n,t){return t.some(r=>Yl(e,n,r)&&St(r)!==P)}function hT(e,n,t){return t.some(r=>Yl(e,n,r))}function Yl(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function pT(e,n,t){return n.length===0&&!e.children[t]}var ph=class{};function gT(e,n,t,r,o,i,s="emptyOnly"){return new gh(e,n,t,r,o,s,i).recognize()}var mT=31,gh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new fh(this.urlSerializer,this.urlTree)}noMatchError(n){return new E(4002,`'${n.segmentGroup}'`)}recognize(){let n=Ky(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(G(({children:t,rootSnapshot:r})=>{let o=new We(r,t),i=new Gi("",o),s=c_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let t=new lr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,P,t).pipe(G(r=>({children:r,rootSnapshot:t})),en(r=>{if(r instanceof Ki)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zi?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(G(s=>s instanceof We?[s]:[]))}processChildren(n,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return te(i).pipe(Dn(s=>{let a=r.children[s],l=RM(t,s);return this.processSegmentGroup(n,l,a,s,o)}),Tu((s,a)=>(s.push(...a),s)),bn(null),Mu(),ae(s=>{if(s===null)return mo(r);let a=E_(s);return vT(a),N(a)}))}processSegment(n,t,r,o,i,s,a){return te(t).pipe(Dn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,o,i,s,a).pipe(en(c=>{if(c instanceof Zi)return N(null);throw c}))),nn(l=>!!l),en(l=>{if(D_(l))return pT(r,o,i)?N(new ph):mo(r);throw l}))}processSegmentAgainstRoute(n,t,r,o,i,s,a,l){return St(r)!==s&&(s===P||!Yl(o,i,r))?mo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,l):mo(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=C_(t,o,i);if(!l)return mo(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mT&&(this.allowRedirects=!1));let f=new lr(i,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(o),St(o),o.component??o._loadedComponent??null,o,Qy(o)),g=Gl(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let _=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(o,_).pipe(ae(C=>this.processSegment(n,r,t,C.concat(p),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,o,i,s){let a=lT(t,r,o,n,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Je(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(Je(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:p,remainingSegments:f}=l,g=new lr(p,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Yy(r),St(r),r.component??r._loadedComponent??null,r,Qy(r)),_=Gl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:x}=Ky(t,p,f,c);if(x.length===0&&C.hasChildren())return this.processChildren(u,c,C,g).pipe(G(Me=>new We(g,Me)));if(c.length===0&&x.length===0)return N(new We(g,[]));let De=St(r)===i;return this.processSegment(u,c,C,x,De?P:i,!0,g).pipe(G(Me=>new We(g,Me instanceof We?[Me]:[])))}))):mo(t)))}getChildConfig(n,t,r){return t.children?N({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?N({routes:t._loadedRoutes,injector:t._loadedInjector}):oT(n,t,r,this.urlSerializer).pipe(ae(o=>o?this.configLoader.loadChildren(n,t).pipe(Ie(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):aT(t))):N({routes:[],injector:n})}};function vT(e){e.sort((n,t)=>n.value.outlet===P?-1:t.value.outlet===P?1:n.value.outlet.localeCompare(t.value.outlet))}function yT(e){let n=e.value.routeConfig;return n&&n.path===""}function E_(e){let n=[],t=new Set;for(let r of e){if(!yT(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=E_(r.children);n.push(new We(r.value,o))}return n.filter(r=>!t.has(r))}function Yy(e){return e.data||{}}function Qy(e){return e.resolve||{}}function _T(e,n,t,r,o,i){return ae(s=>gT(e,n,t,r,s.extractedUrl,o,i).pipe(G(({state:a,tree:l})=>L(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function wT(e,n){return ae(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return N(t);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let c of I_(l))s.add(c);let a=0;return te(s).pipe(Dn(l=>i.has(l)?DT(l,r,e,n):(l.data=Gl(l,l.parent,e).resolve,N(void 0))),Ie(()=>a++),Vr(1),ae(l=>a===s.size?N(t):Oe))})}function I_(e){let n=e.children.map(t=>I_(t)).flat();return[e,...n]}function DT(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!m_(o)&&(i[Yi]=o.title),bT(i,e,n,r).pipe(G(s=>(e._resolvedData=s,e.data=Gl(e,e.parent,t).resolve,null)))}function bT(e,n,t,r){let o=rh(e);if(o.length===0)return N({});let i={};return te(o).pipe(ae(s=>CT(e[s],n,t,r).pipe(nn(),Ie(a=>{if(a instanceof Eo)throw Wl(new On,a);i[s]=a}))),Vr(1),G(()=>i),en(s=>D_(s)?Oe:Fr(s)))}function CT(e,n,t,r){let o=Qi(n)??r,i=So(e,o),s=i.resolve?i.resolve(n,t):tt(o,()=>i(n,t));return Fn(s)}function th(e){return Je(n=>{let t=e(n);return t?te(t).pipe(G(()=>n)):N(n)})}var yh=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===P);return r}getResolvedTitleForRoute(t){return t.data[Yi]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(S_),providedIn:"root"})}return e})(),S_=(()=>{class e extends yh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(A(zy))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fr=new S("",{providedIn:"root",factory:()=>({})}),_h=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=be({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&T(0,"router-outlet")},dependencies:[Ji],encapsulation:2})}return e})();function wh(e){let n=e.children&&e.children.map(wh),t=n?L(w({},e),{children:n}):w({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==P&&(t.component=_h),t}var hr=new S(""),Ql=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Dy);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return N(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Fn(t.loadComponent()).pipe(G(T_),Ie(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),ei(()=>{this.componentLoaders.delete(t)})),o=new Pr(r,()=>new de).pipe(kr());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=M_(r,this.compiler,t,this.onLoadEndListener).pipe(ei(()=>{this.childrenLoaders.delete(r)})),s=new Pr(i,()=>new de).pipe(kr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M_(e,n,t,r){return Fn(e.loadChildren()).pipe(G(T_),ae(o=>o instanceof Af||Array.isArray(o)?N(o):te(n.compileModuleAsync(o))),G(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(hr,[],{optional:!0,self:!0}).flat()),{routes:s.map(wh),injector:i}}))}function ET(e){return e&&typeof e=="object"&&"default"in e}function T_(e){return ET(e)?e.default:e}var Jl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(IT),providedIn:"root"})}return e})(),IT=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dh=new S(""),bh=new S("");function x_(e,n,t){let r=e.get(bh),o=e.get(_e);return e.get(ie).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i,s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),ST(e))),{onViewTransitionCreated:l}=r;return l&&tt(e,()=>l({transition:a,from:n,to:t})),s})}function ST(e){return new Promise(n=>{ff({read:()=>setTimeout(n)},{injector:e})})}var Ch=new S(""),Xl=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new de;transitionAbortSubject=new de;configLoader=y(Ql);environmentInjector=y(Le);destroyRef=y(_i);urlSerializer=y(ur);rootContexts=y(dr);location=y(An);inputBindingEnabled=y(Xi,{optional:!0})!==null;titleStrategy=y(yh);options=y(fr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Jl);createViewTransition=y(Dh,{optional:!0});navigationErrorHandler=y(Ch,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new jl(o)),r=o=>this.events.next(new Vl(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(L(w({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Ee(null),this.transitions.pipe(ze(r=>r!==null),Je(r=>{let o=!1,i=!1;return N(r).pipe(Je(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),Oe;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?L(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new zt(s.id,this.urlSerializer.serialize(s.rawUrl),c,wo.IgnoredSameUrlNavigation)),s.resolve(!1),Oe}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return N(s).pipe(Je(c=>(this.events.next(new Pn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Oe:Promise.resolve(c))),_T(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=L(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Hi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:f}=s,g=new Pn(c,this.urlSerializer.serialize(u),d,p);this.events.next(g);let _=p_(this.rootComponentType).snapshot;return this.currentTransition=r=L(w({},s),{targetSnapshot:_,urlAfterRedirects:u,extras:L(w({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,N(r)}else{let c="";return this.events.next(new zt(s.id,this.urlSerializer.serialize(s.extractedUrl),c,wo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Oe}}),Ie(s=>{let a=new kl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),G(s=>(this.currentTransition=r=L(w({},s),{guards:VM(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),YM(this.environmentInjector,s=>this.events.next(s)),Ie(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Wl(this.urlSerializer,s.guardsResult);let a=new Pl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ze(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ve.GuardRejected),!1)),th(s=>{if(s.guards.canActivateChecks.length!==0)return N(s).pipe(Ie(a=>{let l=new Fl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Je(a=>{let l=!1;return N(a).pipe(wT(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Ve.NoDataFromResolver)}}))}),Ie(a=>{let l=new Ll(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),th(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ie(u=>{l.component=u}),G(()=>{})));for(let u of l.children)c.push(...a(u));return c};return Xo(a(s.targetSnapshot.root)).pipe(bn(null),tn(1))}),th(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?te(l).pipe(G(()=>r)):N(r)}),G(s=>{let a=kM(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=L(w({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ie(()=>{this.events.next(new zi)}),jM(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),tn(1),Ie({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new at(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Au(this.transitionAbortSubject.pipe(Ie(s=>{throw s}))),ei(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),en(s=>{if(this.destroyed)return r.resolve(!1),Oe;if(i=!0,w_(s))this.events.next(new Ut(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),LM(s)?this.events.next(new Co(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Do(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Eo){let{message:c,cancellationCode:u}=Wl(this.urlSerializer,l);this.events.next(new Ut(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Co(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Oe}))}))}cancelNavigationTransition(t,r,o){let i=new Ut(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MT(e){return e!==Nl}var A_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(TT),providedIn:"root"})}return e})(),Kl=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},TT=(()=>{class e extends Kl{static \u0275fac=(()=>{let t;return function(o){return(t||(t=cn(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),N_=(()=>{class e{urlSerializer=y(ur);options=y(fr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(An);urlHandlingStrategy=y(Jl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ht;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof Ht?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=p_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:()=>y(xT),providedIn:"root"})}return e})(),xT=(()=>{class e extends N_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Pn?this.updateStateMemento():t instanceof zt?this.commitTransition(r):t instanceof Hi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ut&&(t.code===Ve.GuardRejected||t.code===Ve.NoDataFromResolver)?this.restoreHistory(r):t instanceof Do?this.restoreHistory(r,!0):t instanceof at&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let a=this.browserPageId,l=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(t,"",l)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=cn(e)))(o||e)}})();static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ec(e,n){e.events.pipe(ze(t=>t instanceof at||t instanceof Ut||t instanceof Do||t instanceof zt),G(t=>t instanceof at||t instanceof zt?0:(t instanceof Ut?t.code===Ve.Redirect||t.code===Ve.SupersededByNewNavigation:!1)?2:1),ze(t=>t!==2),tn(1)).subscribe(()=>{n()})}var AT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ge=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Rf);stateManager=y(N_);options=y(fr,{optional:!0})||{};pendingTasks=y(ao);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Xl);urlSerializer=y(ur);location=y(An);urlHandlingStrategy=y(Jl);_events=new de;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(A_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(hr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Xi,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Ut&&r.code!==Ve.Redirect&&r.code!==Ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof at)this.navigated=!0;else if(r instanceof Co){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||MT(o.source)},s);this.scheduleNavigation(a,Nl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}OT(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=w({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=u_(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return d_(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=kn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Nl,null,r)}navigate(t,r={skipLocationChange:!1}){return RT(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=w({},AT):r===!1?o=w({},NT):o=r,kn(t))return qy(this.currentUrlTree,t,o);let i=this.parseUrl(t);return qy(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,p)=>{a=d,l=p});let u=this.pendingTasks.add();return ec(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RT(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new E(4008,!1)}function OT(e){return!(e instanceof zi)&&!(e instanceof Co)}var $e=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new de;constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof at&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Cv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:kn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(D(ge),D(Ce),sf("tabindex"),D(bt),D(jt),D(It))};static \u0275dir=ne({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&q("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ei("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",sr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",sr],replaceUrl:[2,"replaceUrl","replaceUrl",sr],routerLink:"routerLink"},features:[Ft]})}return e})();var ts=class{};var R_=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(ze(t=>t instanceof at),Dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Ci(i.providers,t,`Route: ${i.path}`));let s=i._injector??t,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return te(o).pipe(Lr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=N(null);let i=o.pipe(ae(s=>s===null?N(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return te([i,s]).pipe(Lr())}else return i})}static \u0275fac=function(r){return new(r||e)(A(ge),A(Le),A(ts),A(Ql))};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),O_=new S(""),kT=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Pn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof at?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof zt&&t.code===wo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Qv()};static \u0275prov=I({token:e,factory:e.\u0275fac})}return e})();function Ih(e,...n){return mi([{provide:hr,multi:!0,useValue:e},[],{provide:Ce,useFactory:k_,deps:[ge]},{provide:ul,multi:!0,useFactory:P_},n.map(t=>t.\u0275providers)])}function k_(e){return e.routerState.root}function ns(e,n){return{\u0275kind:e,\u0275providers:n}}function P_(){let e=y(qe);return n=>{let t=e.get(In);if(n!==t.components[0])return;let r=e.get(ge),o=e.get(F_);e.get(Sh)===1&&r.initialNavigation(),e.get(V_,null,V.Optional)?.setUpPreloading(),e.get(O_,null,V.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var F_=new S("",{factory:()=>new de}),Sh=new S("",{providedIn:"root",factory:()=>1});function L_(){let e=[{provide:Sh,useValue:0},Of(()=>{let n=y(qe);return n.get(jf,Promise.resolve()).then(()=>new Promise(r=>{let o=n.get(ge),i=n.get(F_);ec(o,()=>{r(!0)}),n.get(Xl).afterPreactivation=()=>(r(!0),i.closed?N(void 0):i),o.initialNavigation()}))})];return ns(2,e)}function j_(){let e=[Of(()=>{y(ge).setUpLocationChangeListener()}),{provide:Sh,useValue:2}];return ns(3,e)}var V_=new S("");function $_(e){return ns(0,[{provide:V_,useExisting:R_},{provide:ts,useExisting:e}])}function B_(){return ns(8,[vh,{provide:Xi,useExisting:vh}])}function U_(e){Mn("NgRouterViewTransitions");let n=[{provide:Dh,useValue:x_},{provide:bh,useValue:w({skipNextTransition:!!e?.skipInitialTransition},e)}];return ns(9,n)}var H_=[An,{provide:ur,useClass:On},ge,dr,{provide:Ce,useFactory:k_,deps:[ge]},Ql,[]],Ke=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[H_,[],{provide:hr,multi:!0,useValue:t},[],r?.errorHandler?{provide:Ch,useValue:r.errorHandler}:[],{provide:fr,useValue:r||{}},r?.useHash?FT():LT(),PT(),r?.preloadingStrategy?$_(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?jT(r):[],r?.bindToComponentInputs?B_().\u0275providers:[],r?.enableViewTransitions?U_().\u0275providers:[],VT()]}}static forChild(t){return{ngModule:e,providers:[{provide:hr,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Vt({type:e});static \u0275inj=Pt({})}return e})();function PT(){return{provide:O_,useFactory:()=>{let e=y(Py),n=y(ie),t=y(fr),r=y(Xl),o=y(ur);return t.scrollOffset&&e.setOffset(t.scrollOffset),new kT(o,r,e,n,t)}}}function FT(){return{provide:It,useClass:Vf}}function LT(){return{provide:It,useClass:ml}}function jT(e){return[e.initialNavigation==="disabled"?j_().\u0275providers:[],e.initialNavigation==="enabledBlocking"?L_().\u0275providers:[]]}var Eh=new S("");function VT(){return[{provide:Eh,useFactory:P_},{provide:ul,multi:!0,useExisting:Eh}]}var X_=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(D(bt),D(jt))};static \u0275dir=ne({type:e})}return e})(),uc=(()=>{class e extends X_{static \u0275fac=(()=>{let t;return function(o){return(t||(t=cn(e)))(o||e)}})();static \u0275dir=ne({type:e,features:[Ge]})}return e})(),Ao=new S("");var $T={provide:Ao,useExisting:yt(()=>lt),multi:!0};function BT(){let e=st()?st().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var UT=new S(""),lt=(()=>{class e extends X_{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!BT())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(D(bt),D(jt),D(UT,8))};static \u0275dir=ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&q("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[fn([$T]),Ge]})}return e})();function Oh(e){return e==null||kh(e)===0}function kh(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var dc=new S(""),Ph=new S(""),HT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,re=class{static min(n){return zT(n)}static max(n){return qT(n)}static required(n){return GT(n)}static requiredTrue(n){return WT(n)}static email(n){return ZT(n)}static minLength(n){return KT(n)}static maxLength(n){return ew(n)}static pattern(n){return YT(n)}static nullValidator(n){return nc()}static compose(n){return sw(n)}static composeAsync(n){return lw(n)}};function zT(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function qT(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function GT(e){return Oh(e.value)?{required:!0}:null}function WT(e){return e.value===!0?null:{required:!0}}function ZT(e){return Oh(e.value)||HT.test(e.value)?null:{email:!0}}function KT(e){return n=>{let t=n.value?.length??kh(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function ew(e){return n=>{let t=n.value?.length??kh(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function YT(e){if(!e)return nc;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Oh(r.value))return null;let o=r.value;return n.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function nc(e){return null}function tw(e){return e!=null}function nw(e){return or(e)?te(e):e}function rw(e){let n={};return e.forEach(t=>{n=t!=null?w(w({},n),t):n}),Object.keys(n).length===0?null:n}function ow(e,n){return n.map(t=>t(e))}function QT(e){return!e.validate}function iw(e){return e.map(n=>QT(n)?n:t=>n.validate(t))}function sw(e){if(!e)return null;let n=e.filter(tw);return n.length==0?null:function(t){return rw(ow(t,n))}}function aw(e){return e!=null?sw(iw(e)):null}function lw(e){if(!e)return null;let n=e.filter(tw);return n.length==0?null:function(t){let r=ow(t,n).map(nw);return Su(r).pipe(G(rw))}}function cw(e){return e!=null?lw(iw(e)):null}function z_(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function uw(e){return e._rawValidators}function dw(e){return e._rawAsyncValidators}function Mh(e){return e?Array.isArray(e)?e:[e]:[]}function rc(e,n){return Array.isArray(e)?e.includes(n):e===n}function q_(e,n){let t=Mh(n);return Mh(e).forEach(o=>{rc(t,o)||t.push(o)}),t}function G_(e,n){return Mh(n).filter(t=>!rc(e,t))}var oc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=aw(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},gr=class extends oc{name;get formDirective(){return null}get path(){return null}},mr=class extends oc{_parent=null;name=null;valueAccessor=null},ic=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},JV=L(w({},JT),{"[class.ng-submitted]":"isSubmitted"}),ct=(()=>{class e extends ic{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(D(mr,2))};static \u0275dir=ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&dl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Ge]})}return e})(),jn=(()=>{class e extends ic{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(D(gr,10))};static \u0275dir=ne({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&dl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Ge]})}return e})();var rs="VALID",tc="INVALID",Mo="PENDING",os="DISABLED",Ln=class{},sc=class extends Ln{value;source;constructor(n,t){super(),this.value=n,this.source=t}},is=class extends Ln{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ss=class extends Ln{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},To=class extends Ln{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Th=class extends Ln{source;constructor(n){super(),this.source=n}},xh=class extends Ln{source;constructor(n){super(),this.source=n}};function Fh(e){return(fc(e)?e.validators:e)||null}function XT(e){return Array.isArray(e)?aw(e):e||null}function Lh(e,n){return(fc(n)?n.asyncValidators:e)||null}function ex(e){return Array.isArray(e)?cw(e):e||null}function fc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function fw(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new E(1e3,"");if(!r[t])throw new E(1001,"")}function hw(e,n,t){e._forEachChild((r,o)=>{if(t[o]===void 0)throw new E(1002,"")})}var xo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return pn(this.statusReactive)}set status(n){pn(()=>this.statusReactive.set(n))}_status=Ti(()=>this.statusReactive());statusReactive=wi(void 0);get valid(){return this.status===rs}get invalid(){return this.status===tc}get pending(){return this.status==Mo}get disabled(){return this.status===os}get enabled(){return this.status!==os}errors;get pristine(){return pn(this.pristineReactive)}set pristine(n){pn(()=>this.pristineReactive.set(n))}_pristine=Ti(()=>this.pristineReactive());pristineReactive=wi(!0);get dirty(){return!this.pristine}get touched(){return pn(this.touchedReactive)}set touched(n){pn(()=>this.touchedReactive.set(n))}_touched=Ti(()=>this.touchedReactive());touchedReactive=wi(!1);get untouched(){return!this.touched}_events=new de;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(q_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(q_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(G_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(G_(n,this._rawAsyncValidators))}hasValidator(n){return rc(this._rawValidators,n)}hasAsyncValidator(n){return rc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(L(w({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ss(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new ss(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(L(w({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new is(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new is(!0,r))}markAsPending(n={}){this.status=Mo;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new To(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(L(w({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=os,this.errors=null,this._forEachChild(o=>{o.disable(L(w({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,r)),this._events.next(new To(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(w({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=rs,this._forEachChild(r=>{r.enable(L(w({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(L(w({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rs||this.status===Mo)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new sc(this.value,t)),this._events.next(new To(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(L(w({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?os:rs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Mo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=nw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new To(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?os:this.errors?tc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mo)?Mo:this._anyControlsHaveStatus(tc)?tc:rs}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),o&&this._events.next(new is(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ss(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){fc(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=XT(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=ex(this._rawAsyncValidators)}},ac=class extends xo{constructor(n,t,r){super(Fh(t),Lh(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){hw(this,!0,n),Object.keys(n).forEach(r=>{fw(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,o)=>{r.reset(n?n[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ah=class extends ac{};var hc=new S("",{providedIn:"root",factory:()=>pc}),pc="always";function pw(e,n){return[...n.path,e]}function Nh(e,n,t=pc){jh(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),nx(e,n),ox(e,n),rx(e,n),tx(e,n)}function W_(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),cc(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function lc(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function tx(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function jh(e,n){let t=uw(e);n.validator!==null?e.setValidators(z_(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=dw(e);n.asyncValidator!==null?e.setAsyncValidators(z_(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();lc(n._rawValidators,o),lc(n._rawAsyncValidators,o)}function cc(e,n){let t=!1;if(e!==null){if(n.validator!==null){let o=uw(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.validator);i.length!==o.length&&(t=!0,e.setValidators(i))}}if(n.asyncValidator!==null){let o=dw(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(t=!0,e.setAsyncValidators(i))}}}let r=()=>{};return lc(n._rawValidators,r),lc(n._rawAsyncValidators,r),t}function nx(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&gw(e,n)})}function rx(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&gw(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function gw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ox(e,n){let t=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function ix(e,n){e==null,jh(e,n)}function sx(e,n){return cc(e,n)}function mw(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function ax(e){return Object.getPrototypeOf(e.constructor)===uc}function lx(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vw(e,n){if(!n)return null;Array.isArray(n);let t,r,o;return n.forEach(i=>{i.constructor===lt?t=i:ax(i)?r=i:o=i}),o||r||t||null}function cx(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Z_(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function K_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var as=class extends xo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(Fh(t),Lh(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(K_(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Z_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Z_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){K_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var ux=e=>e instanceof as;var dx={provide:mr,useExisting:yt(()=>ls)},Y_=Promise.resolve(),ls=(()=>{class e extends mr{_changeDetectorRef;callSetDisabledState;control=new as;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new he;constructor(t,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=vw(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Y_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&sr(r);Y_.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pw(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(D(gr,9),D(dc,10),D(Ph,10),D(Ao,10),D(hn,8),D(hc,8))};static \u0275dir=ne({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[fn([dx]),Ge,Ft]})}return e})();var Vn=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ne({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),fx={provide:Ao,useExisting:yt(()=>cs),multi:!0},cs=(()=>{class e extends uc{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=cn(e)))(o||e)}})();static \u0275dir=ne({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&q("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[fn([fx]),Ge]})}return e})();var yw=new S("");var hx={provide:gr,useExisting:yt(()=>gn)},gn=(()=>{class e extends gr{callSetDisabledState;get submitted(){return pn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ti(()=>this._submittedReactive());_submittedReactive=wi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new he;constructor(t,r,o){super(),this.callSetDisabledState=o,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Nh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){W_(t.control||null,t,!1),cx(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),lx(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Th(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new xh(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(W_(r||null,t),ux(o)&&(Nh(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);ix(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&sx(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jh(this.form,this),this._oldForm&&cc(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(D(dc,10),D(Ph,10),D(hc,8))};static \u0275dir=ne({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&q("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fn([hx]),Ge,Ft]})}return e})();var px={provide:mr,useExisting:yt(()=>mn)},mn=(()=>{class e extends mr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new he;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=vw(this,i)}ngOnChanges(t){this._added||this._setUpControl(),mw(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return pw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(D(gr,13),D(dc,10),D(Ph,10),D(Ao,10),D(yw,8))};static \u0275dir=ne({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[fn([px]),Ge,Ft]})}return e})();var gx={provide:Ao,useExisting:yt(()=>ut),multi:!0};function _w(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function mx(e){return e.split(":")[0]}var ut=(()=>{class e extends uc{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),o=_w(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=mx(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=cn(e)))(o||e)}})();static \u0275dir=ne({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&q("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[fn([gx]),Ge]})}return e})(),qt=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(_w(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(D(jt),D(bt),D(ut,9))};static \u0275dir=ne({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),vx={provide:Ao,useExisting:yt(()=>ww),multi:!0};function Q_(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function yx(e){return e.split(":")[0]}var ww=(()=>{class e extends uc{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);o.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=yx(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=cn(e)))(o||e)}})();static \u0275dir=ne({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&q("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[fn([vx]),Ge]})}return e})(),Gt=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Q_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Q_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(D(jt),D(bt),D(ww,9))};static \u0275dir=ne({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function _x(e){return typeof e=="number"?e:parseInt(e,10)}var wx=(()=>{class e{_validator=nc;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ne({type:e,features:[Ft]})}return e})();var Dx={provide:dc,useExisting:yt(()=>us),multi:!0},us=(()=>{class e extends wx{maxlength;inputName="maxlength";normalizeInput=t=>_x(t);createValidator=t=>ew(t);static \u0275fac=(()=>{let t;return function(o){return(t||(t=cn(e)))(o||e)}})();static \u0275dir=ne({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Ei("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[fn([Dx]),Ge]})}return e})();var Dw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Vt({type:e});static \u0275inj=Pt({})}return e})(),Rh=class extends xo{constructor(n,t,r){super(Fh(t),Lh(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){hw(this,!1,n),n.forEach((r,o)=>{fw(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function J_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var $n=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),i={};return J_(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new ac(o,i)}record(t,r=null){let o=this._reduceControls(t);return new Ah(o,r)}control(t,r,o){let i={};return this.useNonNullable?(J_(r)?i=r:(i.validators=r,i.asyncValidators=o),new as(t,L(w({},i),{nonNullable:!0}))):new as(t,r,o)}array(t,r,o){let i=t.map(s=>this._createControl(s));return new Rh(i,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof as)return t;if(t instanceof xo)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(r,o,i)}else return this.control(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var gc=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:hc,useValue:t.callSetDisabledState??pc}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Vt({type:e});static \u0275inj=Pt({imports:[Dw]})}return e})(),Bn=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:yw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:hc,useValue:t.callSetDisabledState??pc}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Vt({type:e});static \u0275inj=Pt({imports:[Dw]})}return e})();var Vh={production:!0,supabaseUrl:"https://lqxnlojeuuextavhyfrd.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxxeG5sb2pldXVleHRhdmh5ZnJkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NjEyMTYsImV4cCI6MjA2MjAzNzIxNn0.Ig7zUn--bBj2YIYdFHaRoi-1kfHW2aWpKu6qRmqiDaw"};var bw=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var ds=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},mc=class extends ds{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},vc=class extends ds{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},yc=class extends ds{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},$h=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}($h||{});var bx=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},fs=class{constructor(n,{headers:t={},customFetch:r,region:o=$h.Any}={}){this.url=n,this.headers=t,this.region=o,this.fetch=bw(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return bx(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=t,a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${n}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:c}).catch(g=>{throw new mc(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new vc(u);if(!u.ok)throw new yc(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var Pw=kD(kw(),1),{PostgrestClient:Fw,PostgrestQueryBuilder:_2,PostgrestFilterBuilder:w2,PostgrestTransformBuilder:D2,PostgrestBuilder:b2,PostgrestError:kx}=Pw.default;var Lw="2.11.2";var jw={"X-Client-Info":`realtime-js/${Lw}`},Vw="1.0.0",bc=1e4,$w=1e3,Oo=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Oo||{}),Ye=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Ye||{}),dt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(dt||{}),Jh=function(e){return e.websocket="websocket",e}(Jh||{}),vr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(vr||{});var Cc=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let o=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(n.slice(s,s+o));s=s+o;let l=r.decode(n.slice(s,s+i));s=s+i;let c=JSON.parse(r.decode(n.slice(s,n.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var ko=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ee=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ee||{}),ep=(e,n,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((i,s)=>(i[s]=Px(s,e,n,o),i),{})},Px=(e,n,t,r)=>{let o=n.find(a=>a.name===e),i=o?.type,s=t[e];return i&&!r.includes(i)?Bw(i,s):Xh(s)},Bw=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return Vx(n,t)}switch(e){case ee.bool:return Fx(n);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Lx(n);case ee.json:case ee.jsonb:return jx(n);case ee.timestamp:return $x(n);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Xh(n);default:return Xh(n)}},Xh=e=>e,Fx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lx=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},jx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},Vx=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Bw(n,a))}return e},$x=e=>typeof e=="string"?e.replace(" ","T"):e,Ec=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var Po=class{constructor(n,t,r={},o=bc){this.channel=n,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var _s=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,o){let i=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=i[c];if(d){let p=u.map(C=>C.presence_ref),f=d.map(C=>C.presence_ref),g=u.filter(C=>f.indexOf(C.presence_ref)<0),_=d.filter(C=>p.indexOf(C.presence_ref)<0);g.length>0&&(a[c]=g),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,o)}static syncDiff(n,t,r,o){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...p)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,o(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let o=n[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var vn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(vn||{});var ws=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Po(this,dt.join,this.params,this.timeout),this.rejoinTimer=new ko(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new _s(this),this.broadcastEndpointURL=Ec(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>n?.(vn.CHANNEL_ERROR,u)),this._onClose(()=>n?.(vn.CLOSED));let l={},c={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){n?.(vn.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,_=[];for(let C=0;C<g;C++){let x=f[C],{filter:{event:De,schema:Me,table:ht,filter:Yt}}=x,Tr=u&&u[C];if(Tr&&Tr.event===De&&Tr.schema===Me&&Tr.table===ht&&Tr.filter===Yt)_.push(Object.assign(Object.assign({},x),{id:Tr.id}));else{this.unsubscribe(),n?.(vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,n&&n(vn.SUBSCRIBED);return}})).receive("error",u=>{n?.(vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{n?.(vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return h(this,arguments,function*(n,t={}){var o,i;if(!this._canPush()&&n.type==="broadcast"){let{event:s,payload:a}=n,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;let u=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ye.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Po(this,dt.leave,{},n);o.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_fetchWithTimeout(n,t,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),s})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Po(this,n,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var o,i;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=dt;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,_,C;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((C=(_=f.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,_,C,x,De,Me;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let ht=f.id,Yt=(g=f.filter)===null||g===void 0?void 0:g.event;return ht&&((_=t.ids)===null||_===void 0?void 0:_.includes(ht))&&(Yt==="*"||Yt?.toLocaleLowerCase()===((C=t.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{let ht=(De=(x=f?.filter)===null||x===void 0?void 0:x.event)===null||De===void 0?void 0:De.toLocaleLowerCase();return ht==="*"||ht===((Me=t?.event)===null||Me===void 0?void 0:Me.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:_,table:C,commit_timestamp:x,type:De,errors:Me}=g;p=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:x,eventType:De,new:{},old:{},errors:Me}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let o=n.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(dt.close,{},n)}_onError(n){this._on(dt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=ep(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=ep(n.columns,n.old_record)),t}};var Ux=()=>{},Hx=typeof WebSocket<"u",zx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ds=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=jw,this.params={},this.timeout=bc,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ux,this.conn=null,this.sendBuffer=[],this.serializer=new Cc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${n}/${Jh.websocket}`,this.httpEndpoint=Ec(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let o=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t?.encode?t.encode:(i,s)=>s(JSON.stringify(i)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ko(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Hx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new tp(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-BBCAVWXX.js").then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vw}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(n){return h(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return h(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Oo.connecting:return vr.Connecting;case Oo.open:return vr.Open;case Oo.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}channel(n,t={config:{}}){let r=new ws(`realtime:${n}`,t,this);return this.channels.push(r),r}push(n){let{topic:t,event:r,payload:o,ref:i}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(n=null){return h(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(o=>{t&&o.updateJoinPayload({access_token:t}),o.joinedOnce&&o._isJoined()&&o._push(dt.access_token,{access_token:t})})}})}sendHeartbeat(){return h(this,null,function*(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close($w,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:o,payload:i,ref:s}=t;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(dt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${n}${r}${o}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([zx],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var tp=class{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Oo.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}};var Fo=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ic=class extends Fo{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},yr=class extends Fo{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var qx=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Mc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Uw=()=>qx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),Sc=e=>{if(Array.isArray(e))return e.map(t=>Sc(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));n[o]=Sc(r)}),n};var _r=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},np=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gx=(e,n,t)=>_r(void 0,void 0,void 0,function*(){let r=yield Uw();e instanceof r&&!t?.noResolveJson?e.json().then(o=>{n(new Ic(np(o),e.status||500))}).catch(o=>{n(new yr(np(o),o))}):n(new yr(np(e),e))}),Wx=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),t))};function bs(e,n,t,r,o,i){return _r(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,Wx(n,r,o,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Gx(l,a,r))})})}function Lo(e,n,t,r){return _r(this,void 0,void 0,function*(){return bs(e,"GET",n,t,r)})}function Wt(e,n,t,r,o){return _r(this,void 0,void 0,function*(){return bs(e,"POST",n,r,o,t)})}function Hw(e,n,t,r,o){return _r(this,void 0,void 0,function*(){return bs(e,"PUT",n,r,o,t)})}function zw(e,n,t,r){return _r(this,void 0,void 0,function*(){return bs(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Tc(e,n,t,r,o){return _r(this,void 0,void 0,function*(){return bs(e,"DELETE",n,r,o,t)})}var Be=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Zx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},xc=class{constructor(n,t={},r,o){this.url=n,this.headers=t,this.bucketId=r,this.fetch=Mc(o)}uploadOrUpdate(n,t,r,o){return Be(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},qw),o),a=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:n,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(n,t,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,o){return Be(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(n),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l,c=Object.assign({upsert:qw.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(me(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return Be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield Wt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Fo("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(n,t,r){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Be(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}copy(n,t,r){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}createSignedUrl(n,t,r){return Be(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),i=yield Wt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}createSignedUrls(n,t,r){return Be(this,void 0,void 0,function*(){try{let o=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}download(n,t){return Be(this,void 0,void 0,function*(){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(n);return{data:yield(yield Lo(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}})}info(n){return Be(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield Lo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Sc(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(n){return Be(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield zw(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof yr){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&o.push(l);let c=o.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return Be(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}list(n,t,r){return Be(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Zx),t),{prefix:n||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var Gw="2.7.1";var Ww={"X-Client-Info":`storage-js/${Gw}`};var jo=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Ac=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},Ww),t),this.fetch=Mc(r)}listBuckets(){return jo(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}getBucket(n){return jo(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return jo(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return jo(this,void 0,void 0,function*(){try{return{data:yield Hw(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(n){return jo(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}deleteBucket(n){return jo(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}};var Cs=class extends Ac{constructor(n,t={},r){super(n,t,r)}from(n){return new xc(this.url,this.headers,n,this.fetch)}};var Zw="2.49.4";var Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";var Kx={"X-Client-Info":`supabase-js-${Es}/${Zw}`},Kw={headers:Kx},Yw={schema:"public"},Qw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jw={};hp();var Yx=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},Qx=e=>{let n;return e?n=e:typeof fetch>"u"?n=dp:n=fetch,(...t)=>n(...t)},Jx=()=>typeof Headers>"u"?fp:Headers,Xw=(e,n,t)=>{let r=Qx(t),o=Jx();return(i,s)=>Yx(void 0,void 0,void 0,function*(){var a;let l=(a=yield n())!==null&&a!==void 0?a:e,c=new o(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},s),{headers:c}))})};var Xx=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})};function eD(e){return e.replace(/\/$/,"")}function tD(e,n){let{db:t,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:l,global:c}=n,u={db:Object.assign(Object.assign({},s),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),i),accessToken:()=>Xx(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}var Nc="2.69.1";var wr=30*1e3,Rc=3,Oc=Rc*wr,nD="http://localhost:9999",rD="supabase.auth.token";var oD={"X-Client-Info":`gotrue-js/${Nc}`};var Is="X-Supabase-Api-Version",rp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sD=6e5;var Ss=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function k(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var kc=class extends Ss{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function aD(e){return k(e)&&e.name==="AuthApiError"}var Vo=class extends Ss{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Zt=class extends Ss{constructor(n,t,r,o){super(n,r,o),this.name=t,this.status=r}},ft=class extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function lD(e){return k(e)&&e.name==="AuthSessionMissingError"}var $o=class extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Dr=class extends Zt{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},br=class extends Zt{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function cD(e){return k(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ms=class extends Zt{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Bo=class extends Zt{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function Pc(e){return k(e)&&e.name==="AuthRetryableFetchError"}var Ts=class extends Zt{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var yn=class extends Zt{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var uD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dD=` 	
\r=`.split(""),eA=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<dD.length;n+=1)e[dD[n].charCodeAt(0)]=-2;for(let n=0;n<uD.length;n+=1)e[uD[n].charCodeAt(0)]=n;return e})();function fD(e,n,t){let r=eA[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function op(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{rA(s,r,t)};for(let s=0;s<e.length;s+=1)fD(e.charCodeAt(s),o,i);return n.join("")}function tA(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nA(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}tA(r,n)}}function rA(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function hD(e){let n=[],t={queue:0,queuedBits:0},r=o=>{n.push(o)};for(let o=0;o<e.length;o+=1)fD(e.charCodeAt(o),t,r);return new Uint8Array(n)}function pD(e){let n=[];return nA(e,t=>n.push(t)),new Uint8Array(n)}function gD(e){return Math.round(Date.now()/1e3)+e}function mD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var Mt=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},Un=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function vD(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{n[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{n[o]=r}),n}var Fc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},yD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ip=(e,n,t)=>h(void 0,null,function*(){yield e.setItem(n,JSON.stringify(t))}),As=(e,n)=>h(void 0,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Ns=(e,n)=>h(void 0,null,function*(){yield e.removeItem(n)}),xs=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};xs.promiseConstructor=Promise;function Lc(e){let n=e.split(".");if(n.length!==3)throw new yn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!iD.test(n[r]))throw new yn("JWT not in base64url format");return{header:JSON.parse(op(n[0])),payload:JSON.parse(op(n[1])),signature:hD(n[2]),raw:{header:n[0],payload:n[1]}}}function _D(e){return h(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function wD(e,n){return new Promise((r,o)=>{h(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!n(i,null,s)){r(s);return}}catch(s){if(!n(i,s)){o(s);return}}})})}function oA(e){return("0"+e.toString(16)).substr(-2)}function iA(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,oA).join("")}function sA(e){return h(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function aA(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield sA(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Er(e,n,t=!1){return h(this,null,function*(){let r=iA(),o=r;t&&(o+="/PASSWORD_RECOVERY"),yield ip(e,`${n}-code-verifier`,o);let i=yield aA(r);return[i,r===i?"plain":"s256"]})}var lA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DD(e){let n=e.headers.get(Is);if(!n||!n.match(lA))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function bD(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function CD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var cA=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},Ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uA=[502,503,504];function ED(e){return h(this,null,function*(){var n;if(!yD(e))throw new Bo(Ir(e),0);if(uA.includes(e.status))throw new Bo(Ir(e),e.status);let t;try{t=yield e.json()}catch(i){throw new Vo(Ir(i),i)}let r,o=DD(e);if(o&&o.getTime()>=rp["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ts(Ir(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new ft}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ts(Ir(t),e.status,t.weak_password.reasons);throw new kc(Ir(t),e.status||500,r)})}var dA=(e,n,t,r)=>{let o={method:e,headers:n?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function U(e,n,t,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Is]||(i[Is]=rp["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield fA(e,n,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function fA(e,n,t,r,o,i){return h(this,null,function*(){let s=dA(n,r,o,i),a;try{a=yield e(t,Object.assign({},s))}catch(l){throw console.error(l),new Bo(Ir(l),0)}if(a.ok||(yield ED(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield ED(l)}})}function _n(e){var n;let t=null;hA(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=gD(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function sp(e){let n=_n(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Kt(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function ID(e){return{data:e,error:null}}function SD(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=e,s=cA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function MD(e){return e}function hA(e){return e.access_token&&e.refresh_token&&e.expires_in}var pA=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t},Uo=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Fc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n,t="global"){return h(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(n,t={}){try{return yield U(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Kt})}catch(o){if(k(o))return{data:{user:null},error:o};throw o}})}generateLink(n){return h(this,null,function*(){try{let{options:t}=n,r=pA(n,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:SD,redirectTo:t?.redirectTo})}catch(t){if(k(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return h(this,null,function*(){try{return yield U(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Kt})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return h(this,null,function*(){var t,r,o,i,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:MD});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let _=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(g.split(";")[1].split("=")[1]);c[`${C}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(k(c))return{data:{users:[]},error:c};throw c}})}getUserById(n){return h(this,null,function*(){try{return yield U(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Kt})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return h(this,null,function*(){try{return yield U(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Kt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return h(this,null,function*(){try{return yield U(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Kt})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return h(this,null,function*(){try{let{data:t,error:r}=yield U(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(k(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return h(this,null,function*(){try{return{data:yield U(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(k(t))return{data:null,error:t};throw t}})}};var TD={getItem:e=>Un()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Un()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Un()&&globalThis.localStorage.removeItem(e)}};function ap(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function xD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Sr={debug:!!(globalThis&&Un()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Rs=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},jc=class extends Rs{};function lp(e,n,t){return h(this,null,function*(){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(this,null,function*(){if(o){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield t()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(n===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sr.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}xD();var gA={url:nD,storageKey:rD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function AD(e,n,t){return h(this,null,function*(){return yield t()})}var cp=(()=>{class e{constructor(t){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},gA),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Uo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Fc(i.fetch),this.lock=i.lock||AD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=lp:this.lock=AD,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Un()?this.storage=TD:(this.memoryStorage={},this.storage=ap(this.memoryStorage)):(this.memoryStorage={},this.storage=ap(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nc}) ${new Date().toISOString()}`,...t),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var t;try{let r=vD(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),Mt()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),cD(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?{error:r}:{error:new Vo("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return h(this,null,function*(){var r,o,i;try{let s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:_n}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return h(this,null,function*(){var r,o,i;try{let s;if("email"in t){let{email:d,password:p,options:f}=t,g=null,_=null;this.flowType==="pkce"&&([g,_]=yield Er(this.storage,this.storageKey)),s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:_},xform:_n})}else if("phone"in t){let{phone:d,password:p,options:f}=t;s=yield U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_n})}else throw new Dr("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(k(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return h(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sp})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=yield U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:sp})}else throw new Dr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new $o}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(t)}))})}_exchangeCodeForSession(t){return h(this,null,function*(){let r=yield As(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:_n});if(yield Ns(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new $o}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(k(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=t,l=yield U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:_n}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $o}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield Er(this.storage,this.storageKey));let{error:p}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:d}=yield U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Dr("You must provide either an email or phone number.")}catch(l){if(k(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){return h(this,null,function*(){var r,o;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:l}=yield U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:_n});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(k(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return h(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Er(this.storage,this.storageKey)),yield U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:ID})}catch(s){if(k(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(t=>h(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new ft;let{error:i}=yield U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(k(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:s}=t,{error:a}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:o,type:i,options:s}=t,{data:a,error:l}=yield U(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new Dr("You must provide either an email or phone number and a type")}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(t,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at*1e3-Date.now()<Oc:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return h(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return h(this,null,function*(){try{return t?yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:l}=r;if(l)throw l;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:yield U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Kt})}))}catch(r){if(k(r))return lD(r)&&(yield this._removeSession(),yield Ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return h(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return h(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ft;let l=s.session,c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=yield Er(this.storage,this.storageKey));let{data:d,error:p}=yield U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Kt});if(p)throw p;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(i){if(k(i))return{data:{user:null},error:i};throw i}})}setSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return h(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new ft;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Lc(t.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:l,error:c}=yield this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=yield this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(k(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(o=a.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new ft;let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(k(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return h(this,null,function*(){try{if(!Mt())throw new br("No browser detected.");if(t.error||t.error_description||t.error_code)throw new br(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ms("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new br("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ms("No code detected.");let{data:Me,error:ht}=yield this._exchangeCodeForSession(t.code);if(ht)throw ht;let Yt=new URL(window.location.href);return Yt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Yt.toString()),{data:{session:Me.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new br("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(l),f=d+p;c&&(f=parseInt(c));let g=f-d;g*1e3<=wr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let _=f-p;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,d);let{data:C,error:x}=yield this._getUser(s);if(x)throw x;let De={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:De,redirectType:t.type},error:null}}catch(o){if(k(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return h(this,null,function*(){let r=yield As(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return h(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return h(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:l}=yield this.admin.signOut(a,t);if(l&&!(aD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(yield this._removeSession(),yield Ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=mD(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(t,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield Er(this.storage,this.storageKey,!0));try{return yield U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(k(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}})}linkIdentity(t){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,l,c,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield U(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return Mt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(k(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}unlinkIdentity(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return h(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield wD(i=>h(this,null,function*(){return i>0&&(yield _D(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_n})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Pc(s)&&Date.now()+a-o<wr})}catch(o){if(this._debug(r,"error",o),k(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),Mt()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield As(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Oc;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Oc}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=yield this._callRefreshToken(o.refresh_token);s&&(console.error(s),Pc(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return h(this,null,function*(){var r,o;if(!t)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xs;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ft;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),k(s)){let a={session:null,error:s};return Pc(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>h(this,null,function*(){try{yield l.callback(t,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return h(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield ip(this.storage,this.storageKey,t)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield Ns(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),wr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/wr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wr}ms, refresh threshold is ${Rc} ticks`),i<=Rc&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Rs)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return h(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield Er(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_enroll(t){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=yield U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(k(r))return{data:null,error:r};throw r}})}_verify(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:l}=yield U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(k(r))return{data:null,error:r};throw r}}))})}_challenge(t){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(k(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=t?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(t=>h(this,null,function*(){var r,o;let{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Lc(i.access_token),l=null;a.aal&&(l=a.aal);let c=l;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return h(this,arguments,function*(t,r={keys:[]}){let i=r.keys.find(l=>l.kid===t);if(i||(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+sD>Date.now()))return i;let{data:s,error:a}=yield U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new yn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(l=>l.kid===t),!i)throw new yn("No matching signing key found in JWKS");return i})}getClaims(o){return h(this,arguments,function*(t,r={keys:[]}){try{let i=t;if(!i){let{data:_,error:C}=yield this.getSession();if(C||!_.session)return{data:null,error:C};i=_.session.access_token}let{header:s,payload:a,signature:l,raw:{header:c,payload:u}}=Lc(i);if(bD(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:_}=yield this.getUser(i);if(_)throw _;return{data:{claims:a,header:s,signature:l},error:null}}let d=CD(s.alg),p=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,l,pD(`${c}.${u}`))))throw new yn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(k(i))return{data:null,error:i};throw i}})}}return e.nextInstanceID=0,e})();var mA=cp,up=mA;var Vc=class extends up{constructor(n){super(n)}};var vA=function(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})},$c=class{constructor(n,t,r){var o,i,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=eD(n);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Yw,realtime:Jw,auth:Object.assign(Object.assign({},Qw),{storageKey:l}),global:Kw},u=tD(r??{},c);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Xw(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Fw(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new fs(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Cs(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return vA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vc({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Ds(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ND=(e,n,t)=>new $c(e,n,t);var Ue=class e{supabaseUrl=Vh.supabaseUrl;supabaseKey=Vh.supabaseKey;supabaseClient;constructor(){this.supabaseClient=ND(this.supabaseUrl,this.supabaseKey,{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}})}getLouvoresLista(n){return h(this,null,function*(){let t=n?"":"&conferido=eq.false",r=yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?select=id,nome,cantor,conferido,url&order=created.desc&limit=90${t}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!r.ok)throw new Error("Network response was not ok");return r.json()})}getLouvorById(n){return h(this,null,function*(){let t=yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?id=eq.${n}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!t.ok)throw new Error("Network response was not ok");return(yield t.json())[0]})}addLouvor(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores`,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`},body:JSON.stringify(n)})).ok})}removerLouvor(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?id=eq.${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}})).ok})}updateLouvor(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?id=eq.${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`},body:JSON.stringify(n)})).ok})}getLetrasByLouvorId(n){return h(this,null,function*(){let t=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?louvor_id=eq.${n}&order=ordem.asc`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!t.ok)throw new Error("Erro ao buscar letras");return yield t.json()})}getLetraById(n){return h(this,null,function*(){let t=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${n}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!t.ok)throw new Error("Erro ao buscar letra");return(yield t.json())[0]})}addLetra(n){return h(this,null,function*(){let t=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras`,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`,Prefer:"return=representation"},body:JSON.stringify(n)});return t.ok?(yield t.json())[0]?.id??"":""})}updateLetra(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${n.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`},body:JSON.stringify(n)})).ok})}removerLetra(n){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}})).ok})}getQtdLetrasByLouvorId(n){return h(this,null,function*(){let t=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?louvor_id=eq.${n}`,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`}});if(!t.ok)throw new Error("Erro ao buscar letras");return(yield t.json()).length})}onLetraChanged(n,t){return this.supabaseClient.channel("realtime-letras").on("postgres_changes",{event:"*",schema:"public",table:"TbLetras",filter:`louvor_id=eq.${n}`},()=>{t()}).subscribe()}ReordenarLetras(n){return h(this,null,function*(){try{let r=yield(yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?louvor_id=eq.${n}&order=ordem.asc`,{method:"GET",headers:{apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`,"Content-Type":"application/json"}})).json();if(!Array.isArray(r))return console.error("Erro ao buscar letras para reordenar:",r),!1;for(let o=0;o<r.length;o++){let i=r[o],s=o+1;if(i.ordem!=s&&i.ordem!==s){let a=yield fetch(`${this.supabaseUrl}/rest/v1/TbLetras?id=eq.${i.id}`,{method:"PATCH",headers:{apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`,"Content-Type":"application/json"},body:JSON.stringify({ordem:s})})}}return!0}catch(t){console.error("Erro ao reordenar letras:",t)}return!1})}duplicarLetra(n){return h(this,null,function*(){try{let t=yield this.getLetraById(n);if(!t)return console.error("Letra n\xE3o encontrada"),!1;let o=(yield this.getLetrasByLouvorId(t.louvor_id)).reduce((a,l)=>Math.max(a,l.ordem),0),i=L(w({},t),{ordem:o+1});return delete i.id,(yield this.addLetra(i))!==""}catch(t){return console.error("Erro ao duplicar letra:",t),!1}})}sanitizePhrase(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9 ]/g,"").trim()}searchLouvoresByLyricSubstring(n){return h(this,null,function*(){let t=this.sanitizePhrase(n),{data:r,error:o}=yield this.supabaseClient.from("vlouvores").select("louvor_id").ilike("letra_normalizada",`%${t}%`);if(o)throw console.error("Erro buscando letras normalizadas:",o),o;let i=r,s=Array.from(new Set(i.map(c=>c.louvor_id)));if(s.length===0)return[];let{data:a,error:l}=yield this.supabaseClient.from("TbLouvores").select("*").in("id",s).order("cantor",{ascending:!0}).order("nome",{ascending:!0});if(l)throw console.error("Erro buscando louvores:",l),l;return a??[]})}conferirLouvor(n,t){return h(this,null,function*(){return!!(yield fetch(`${this.supabaseUrl}/rest/v1/TbLouvores?id=eq.${n}`,{method:"PATCH",headers:{"Content-Type":"application/json",apikey:this.supabaseKey,Authorization:`Bearer ${this.supabaseKey}`},body:JSON.stringify({conferido:t})})).ok})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"})};var yA=()=>["/louvores/add"],_A=e=>["/louvores/cantar",e],wA=e=>["/louvores/edit",e];function DA(e,n){e&1&&(v(0,"section",2)(1,"a",7),T(2,"i",8),b(3," Adicionar "),m()()),e&2&&(M(),F("routerLink",xn(1,yA)))}function bA(e,n){if(e&1){let t=rt();v(0,"div",9)(1,"div",10)(2,"input",11),q("dblclick",function(){le(t);let o=W();return ce(o.toggleConferido())}),Mi("ngModelChange",function(o){le(t);let i=W();return hl(i.filtro_search,o)||(i.filtro_search=o),ce(o)}),m()(),v(3,"div",12)(4,"button",13),q("click",function(){le(t);let o=W();return ce(o.filtrar())}),b(5,"Buscar"),m()()()}if(e&2){let t=W();M(2),Si("ngModel",t.filtro_search)}}function CA(e,n){if(e&1&&(v(0,"div",0)(1,"div",14)(2,"span",15),b(3,"Foram encontrados"),m(),v(4,"span",16),b(5),m(),v(6,"span",17),b(7,"louvores"),m()()()),e&2){let t=W();M(5),ir(t.qtdLouvores)}}function EA(e,n){e&1&&T(0,"i",21)}function IA(e,n){e&1&&T(0,"i",22)}function SA(e,n){if(e&1){let t=rt();v(0,"span",28),T(1,"i",29),m(),v(2,"span",30),q("click",function(){le(t);let o=W().$implicit,i=W();return ce(i.removerLouvor(o.id))}),T(3,"i",31),m()}if(e&2){let t=W().$implicit;F("routerLink",$t(1,wA,t.id))}}function MA(e,n){if(e&1&&(v(0,"a",25),T(1,"i",32),m()),e&2){let t=W().$implicit;kf("href",t.url,pf)}}function TA(e,n){if(e&1&&(v(0,"li",6)(1,"section",18)(2,"div",19)(3,"span",20),b(4),X(5,EA,1,0,"i",21)(6,IA,1,0,"i",22),m(),v(7,"span",23),b(8),m()(),v(9,"div",24),X(10,SA,4,3)(11,MA,2,1,"a",25),v(12,"span",26),T(13,"i",27),m()()()()),e&2){let t=n.$implicit,r=W();M(4),go(" ",t.nome," "),M(),oe(t.conferido==!0?5:6),M(3),ir(t.cantor),M(2),oe(r.isEditing?10:-1),M(),oe(t.url?11:-1),M(),F("routerLink",$t(6,_A,t.id))}}var Bc=class e{constructor(n){this.supabaseService=n}modoFiltro="texto";listaLouvores=[];listaLouvoresFiltrada=[];isEditing=!1;contador=0;limite=0;filtro_search="";qtdLouvores=0;verConferidos=!1;ngOnInit(){this.inicializarContadorLocalStorage(),this.carregarLouvores()}inicializarContadorLocalStorage(){let n=localStorage.getItem("limiteLouvores");n===null?(localStorage.setItem("limiteLouvores","45"),this.limite=15):this.limite=parseInt(n,10),this.contador=0,localStorage.setItem("contadorLouvores","0"),this.isEditing=!1}removerAcentos(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}filtrar(){return h(this,null,function*(){let n=this.filtro_search.trim();if(!n){this.listaLouvoresFiltrada=[...this.listaLouvores],this.qtdLouvores=this.listaLouvoresFiltrada.length;return}if(n.length<3){this.listaLouvoresFiltrada=[...this.listaLouvores],this.qtdLouvores=this.listaLouvoresFiltrada.length;return}try{this.listaLouvoresFiltrada=yield this.supabaseService.searchLouvoresByLyricSubstring(n),this.qtdLouvores=this.listaLouvoresFiltrada.length}catch(t){console.error("Erro na busca por letra:",t),this.listaLouvoresFiltrada=this.listaLouvores.filter(r=>{let o=[r.nome,r.cantor,r.tom,r.inicio,r.url].join(" ").toLowerCase();return this.removerAcentos(o).includes(this.removerAcentos(n.toLowerCase()))}),this.qtdLouvores=this.listaLouvoresFiltrada.length}})}incrementa(){this.contador++,localStorage.setItem("contadorLouvores",this.contador.toString()),this.contador>=this.limite&&(this.isEditing=!0)}carregarLouvores(){return h(this,null,function*(){try{this.listaLouvores=yield this.supabaseService.getLouvoresLista(this.verConferidos),this.listaLouvoresFiltrada=[...this.listaLouvores],this.qtdLouvores=this.listaLouvoresFiltrada.length}catch(n){console.error("Erro ao carregar louvores:",n)}})}removerLouvor(n){return h(this,null,function*(){if(confirm("Tem certeza que deseja remover este louvor?"))try{let{error:r}=yield this.supabaseService.removerLouvor(n);r?(console.error("Erro ao remover louvor:",r),alert("Erro ao remover louvor.")):this.listaLouvores=this.listaLouvores.filter(o=>o.id!==n)}catch(r){console.error("Erro inesperado:",r)}})}toggleConferido(){return h(this,null,function*(){this.verConferidos=!this.verConferidos,yield this.carregarLouvores()})}static \u0275fac=function(t){return new(t||e)(D(Ue))};static \u0275cmp=be({type:e,selectors:[["app-louvores-lista"]],decls:9,vars:3,consts:[[1,"row","mb-2","no-select"],[1,"col-12","mb-2","no-select"],[1,"text-end","no-select"],["class","row g-1 mb-2 no-select",4,"ngIf"],[1,"col-12","no-select",3,"click"],[1,"list-group","no-select"],[1,"list-group-item","mb-2","shadow-sm","p-2","no-select"],["accesskey","a",1,"btn","btn-outline-primary","btn-sm","no-select",3,"routerLink"],[1,"fa-solid","fa-plus"],[1,"row","g-1","mb-2","no-select"],[1,"col-9","col-md-10","no-select"],["type","text","name","filtroInput","placeholder","Pesquisar...",1,"form-control","form-control","no-select",3,"dblclick","ngModelChange","ngModel"],[1,"col-3","col-md-2","no-select"],[1,"form-control","btn","btn-primary","no-select",3,"click"],[2,"font-size","1.1rem no-select"],[1,"d-inline","me-2"],[1,"d-inline","fw-bold","text-danger","me-2"],[1,"d-inline"],[1,"d-flex","justify-content-between","align-items-center","rounded-1","no-select"],[1,"m-0","no-select",2,"line-height","1.4rem"],[1,"text-primary","no-select","d-block","mb-0",2,"font-size","1.2rem","font-weight","700"],[1,"fa-solid","fa-check","text-success","fs-4","no-select"],[1,"fa-solid","fa-xmark","text-danger","fs-4","no-select"],[1,"mt-0","mb-0","no-select",2,"font-weight","600","font-size","1rem"],[1,"m-0"],["target","_blank",1,"btn","btn-sm","btn-outline-danger","me-2","no-select",3,"href"],[1,"btn","btn-sm","btn-outline-primary","no-select",3,"routerLink"],[1,"fa-solid","fa-tv"],[1,"btn","btn-sm","btn-outline-primary","me-2","no-select",3,"routerLink"],[1,"fa-solid","fa-edit"],[1,"btn","btn-sm","btn-outline-primary","me-2","no-select",3,"click"],[1,"fa-solid","fa-trash"],[1,"fa-brands","fa-youtube"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1),X(2,DA,4,2,"section",2),m()(),X(3,bA,6,1,"div",3)(4,CA,8,1,"div",0),v(5,"div",4),q("click",function(){return r.incrementa()}),v(6,"ul",5),ho(7,TA,14,8,"li",6,fo),m()()),t&2&&(M(2),oe(r.isEditing?2:-1),M(),F("ngIf",r.modoFiltro==="texto"),M(),oe(r.qtdLouvores>0?4:-1),M(3),po(r.listaLouvoresFiltrada))},dependencies:[Ke,$e,gc,lt,ct,ls,Nn,Ni],encapsulation:2})};var xA=()=>["/"],Uc=class e{constructor(n,t,r){this.fb=n;this.supabaseService=t;this.router=r;this.form=this.fb.group({nome:["",re.required],cantor:["",re.required],inicio:["",re.required],grupo:["",re.required],tom:["",[re.required,re.minLength(1),re.maxLength(3)]],url:[""]})}form;onSubmit(){return h(this,null,function*(){if(this.form.valid){let n=this.form.value;n.nome=n.nome.trim(),n.cantor=n.cantor.trim(),n.inicio=n.inicio.trim(),n.tom=n.tom.trim(),n.url=n.url.trim(),n.grupo=n.grupo.trim();try{let t=yield this.supabaseService.addLouvor(n);if(!t){console.error("Error adding louvor:",t);return}this.router.navigate([""])}catch(t){console.error("Error adding louvor:",t)}}})}static \u0275fac=function(t){return new(t||e)(D($n),D(Ue),D(ge))};static \u0275cmp=be({type:e,selectors:[["app-louvores-add"]],decls:48,vars:4,consts:[[3,"ngSubmit","formGroup"],[1,"row","mb-2","g-2"],[1,"col-12","col-md-7"],[1,"form-group"],["for","nome"],["type","text","id","nome","formControlName","nome","placeholder","Nome",1,"form-control","fw-medium"],[1,"col-12","col-md-5"],["for","cantor"],["type","text","id","cantor","formControlName","cantor","placeholder","Cantor",1,"form-control","fw-medium"],[1,"col-8"],["for","inicio"],["id","inicio","formControlName","inicio","maxlength","70","placeholder","Trecho inicial",1,"form-control","fw-medium"],[1,"col-4"],["for","grupo"],["id","grupo","formControlName","grupo","placeholder","Escolha o grupo",1,"form-control","fw-medium"],["value",""],["value","Irm\xE3s"],["value","Jovens"],["value","Var\xF5es"],["value","Outros"],[1,"col-12","col-md-9"],["for","url"],["type","url","id","url","formControlName","url",1,"form-control","fw-medium"],[1,"col-12","col-md-3"],["for","tom"],["type","text","id","tom","formControlName","tom","maxlength","3",1,"form-control","fw-medium"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],["accesskey","v",1,"btn","btn-outline-success",3,"routerLink"],[1,"fa-solid","fa-home","me-2"]],template:function(t,r){t&1&&(v(0,"form",0),q("ngSubmit",function(){return r.onSubmit()}),v(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),b(5,"Nome"),m(),T(6,"input",5),m()(),v(7,"div",6)(8,"div",3)(9,"label",7),b(10,"Cantor"),m(),T(11,"input",8),m()(),v(12,"div",9)(13,"div",3)(14,"label",10),b(15,"In\xEDcio"),m(),T(16,"input",11),m()(),v(17,"div",12)(18,"div",3)(19,"label",13),b(20,"Grupo"),m(),v(21,"select",14)(22,"option",15),b(23,"Selecione"),m(),v(24,"option",16),b(25,"Irm\xE3s"),m(),v(26,"option",17),b(27,"Jovens"),m(),v(28,"option",18),b(29,"Var\xF5es"),m(),v(30,"option",19),b(31,"Outros"),m()()()(),v(32,"div",20)(33,"div",3)(34,"label",21),b(35,"Url"),m(),T(36,"input",22),m()(),v(37,"div",23)(38,"div",3)(39,"label",24),b(40,"Tonalidade"),m(),T(41,"input",25),m()()(),v(42,"button",26),T(43,"i",27),b(44," Salvar "),m(),v(45,"a",28),T(46,"i",29),b(47," Voltar "),m()()),t&2&&(F("formGroup",r.form),M(42),F("disabled",r.form.invalid),M(3),F("routerLink",xn(3,xA)))},dependencies:[Ke,$e,Bn,Vn,qt,Gt,lt,ut,ct,jn,us,gn,mn],encapsulation:2})};var Hc=class e{transform(n){return n?"intro":"estrofe"}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Ct({name:"isIntro",type:e,pure:!0})};var zo=class e{constructor(n){this.sanitizer=n}transform(n){let o=n.split(/(\s+)/).map(i=>i.includes("{")&&i.includes("}")?`<span style="white-space: nowrap;">${i.replace(/\{([^|]+)\|([^}]+)\}/g,(a,l,c)=>`<span class="nota"><small class="nota-label">${c}</small>${l}</span>`)}</span>`:i).join("");return this.sanitizer.bypassSecurityTrustHtml(o)}static \u0275fac=function(t){return new(t||e)(D(Li,16))};static \u0275pipe=Ct({name:"formataNotas",type:e,pure:!0})};var qo=class e{transform(n){return n.replaceAll("qq","<br>")}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Ct({name:"quebralinha",type:e,pure:!0})};var AA=e=>["/louvores/cantar",e],NA=()=>["/"],RA=e=>["/louvores",e,"letras","add"],OA=(e,n)=>["/louvores",e,"letras","edit",n];function kA(e,n){if(e&1&&(T(0,"div",54),ot(1,"quebralinha"),ot(2,"formataNotas")),e&2){let t=W().$implicit;F("innerHTML",it(2,3,it(1,1,t.letra)),Tn)}}function PA(e,n){if(e&1&&(T(0,"div",54),ot(1,"quebralinha")),e&2){let t=W().$implicit;F("innerHTML",it(1,1,t.letra),Tn)}}function FA(e,n){if(e&1){let t=rt();v(0,"li",42)(1,"div",43)(2,"section",44)(3,"span",45),b(4),m(),v(5,"span",46),q("click",function(){le(t);let o=W();return ce(o.toggleMostrarNotas())}),b(6),ot(7,"isIntro"),m(),v(8,"div")(9,"span",47),T(10,"i",48),b(11," Editar "),m(),v(12,"span",49),q("click",function(){let o=le(t).$implicit,i=W();return ce(i.deleteLetra(o.id))}),T(13,"i",50),b(14," Remover "),m(),v(15,"span",51),q("click",function(){let o=le(t).$implicit,i=W();return ce(i.duplicar(o.id))}),T(16,"i",52),b(17," Duplicar "),m()()(),v(18,"section",53),X(19,kA,3,5,"div",54)(20,PA,2,3,"div",54),T(21,"div",55),ot(22,"formataNotas"),m()()()}if(e&2){let t=n.$implicit,r=W();M(4),ir(t.ordem),M(2),ir(it(7,5,t.is_intro)),M(3),F("routerLink",yy(9,OA,t.louvor_id,t.id)),M(10),oe(r.mostrarNotas==!0?19:20),M(2),F("innerHTML",it(22,7,t.notas),Tn)}}var zc=class e{constructor(n,t,r,o){this.fb=n;this.supabaseService=t;this.route=r;this.router=o;this.form=this.fb.group({nome:["",re.required],cantor:["",re.required],inicio:["",re.required],grupo:["",re.required],tom:["",[re.required,re.minLength(1),re.maxLength(3)]],url:[""]}),this.route.paramMap.subscribe(i=>{this.id=i.get("id")??"",this.id&&(this.carregaLouvor(),this.carregaLetras())})}mostrarNotas=!1;id="";form;letras=[];onSubmit(){return h(this,null,function*(){if(this.form.valid){let n=this.form.value;n.id=this.id,n.nome=n.nome.trim(),n.cantor=n.cantor.trim(),n.inicio=n.inicio.trim(),n.tom=n.tom.trim(),n.url=n.url.trim(),n.grupo=n.grupo.trim();try{let t=yield this.supabaseService.updateLouvor(n);if(!t){console.error("Error updating louvor:",t);return}yield this.carregaLetras(),this.router.navigate([""])}catch(t){console.error("Error updating louvor:",t)}}})}carregaLouvor(){return h(this,null,function*(){try{let n=yield this.supabaseService.getLouvorById(this.id);n?this.form.patchValue({nome:n.nome,cantor:n.cantor,inicio:n.inicio,tom:n.tom,url:n.url,grupo:n.grupo}):console.error("Louvor not found")}catch(n){console.error("Error fetching louvor:",n)}})}carregaLetras(){return h(this,null,function*(){try{let n=yield this.supabaseService.getLetrasByLouvorId(this.id);n&&(this.letras=n)}catch(n){console.error("Error fetching letras:",n)}})}deleteLetra(n){return h(this,null,function*(){if(confirm("Tem certeza que deseja remover essa letra?"))try{let r=yield this.supabaseService.removerLetra(n);r?this.carregaLetras():console.error("Error deleting letra:",r)}catch(r){console.error("Error deleting letra:",r)}})}getFullUrl(n){return`${window.location.origin}/louvoresnotas/louvores/cantar/${n}`}reordenar(){return h(this,null,function*(){yield this.supabaseService.ReordenarLetras(this.id)})}duplicar(n){this.supabaseService.duplicarLetra(n).then(t=>{t?this.carregaLetras():console.error("Error duplicating letra:",t)})}toggleMostrarNotas(){this.mostrarNotas=!this.mostrarNotas}static \u0275fac=function(t){return new(t||e)(D($n),D(Ue),D(Ce),D(ge))};static \u0275cmp=be({type:e,selectors:[["app-louvores-edit"]],decls:69,vars:10,consts:[[1,"mb-2",3,"ngSubmit","formGroup"],[1,"row","mb-2"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"m-0","text-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"routerLink"],[1,"fa-solid","fa-tv"],[1,"row","mb-2","g-2"],[1,"col-12","col-md-7"],[1,"form-group"],["for","nome"],["type","text","id","nome","formControlName","nome",1,"form-control","fw-medium"],[1,"col-12","col-md-5"],["for","cantor"],["type","text","id","cantor","formControlName","cantor",1,"form-control","fw-medium"],[1,"col-8"],["for","inicio"],["id","inicio","formControlName","inicio","maxlength","70","placeholder","Trecho inicial",1,"form-control","fw-medium"],[1,"col-4"],["for","grupo"],["id","grupo","formControlName","grupo","placeholder","Escolha o grupo",1,"form-control","fw-medium"],["value",""],["value","Irm\xE3s"],["value","Jovens"],["value","Var\xF5es"],["value","Outros"],[1,"col-12","col-md-9"],["for","url"],["type","url","id","url","formControlName","url",1,"form-control","fw-medium"],[1,"col-12","col-md-3"],["for","tom"],["type","text","id","tom","formControlName","tom","maxlength","3",1,"form-control","fw-medium"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],["accesskey","r",1,"btn","btn-outline-primary","me-2",3,"click"],[1,"fa-solid","fa-arrows-rotate","me-2"],["accesskey","v",1,"btn","btn-outline-success",3,"routerLink"],[1,"fa-solid","fa-home","me-2"],["accesskey","a",1,"btn","btn-sm","btn-outline-success",3,"routerLink"],[1,"fa-solid","fa-plus"],["If","letras.length > 0"],[1,"list-group","mb-2"],[1,"list-group-item","mb-3","shadow-sm","p-2"],[1,""],[1,"d-flex","justify-content-between","align-items-center","bg-white"],[1,"fw-bold","text-black",2,"font-size","1.23rem"],[1,"fw-bold","text-black","cursor",2,"font-size","1.23rem",3,"click"],[1,"btn","btn-sm","btn-light","me-3",3,"routerLink"],[1,"fa-solid","fa-edit"],[1,"btn","btn-sm","btn-light","me-3",3,"click"],[1,"fa-solid","fa-trash"],[1,"btn","btn-sm","btn-light",3,"click"],[1,"fa-solid","fa-copy"],[1,"bg-white","mt-4"],[1,"mb-1","fw-medium",2,"font-size","1.2rem",3,"innerHTML"],[1,"fw-bold","text-primary","fs-5",3,"innerHTML"]],template:function(t,r){t&1&&(v(0,"form",0),q("ngSubmit",function(){return r.onSubmit()}),v(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),b(5,"Formul\xE1rio de Edi\xE7\xE3o"),m(),v(6,"span",5),T(7,"i",6),m()()()(),v(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),b(12,"Nome"),m(),T(13,"input",11),m()(),v(14,"div",12)(15,"div",9)(16,"label",13),b(17,"Cantor"),m(),T(18,"input",14),m()(),v(19,"div",15)(20,"div",9)(21,"label",16),b(22,"In\xEDcio"),m(),T(23,"input",17),m()(),v(24,"div",18)(25,"div",9)(26,"label",19),b(27,"Grupo"),m(),v(28,"select",20)(29,"option",21),b(30,"Selecione"),m(),v(31,"option",22),b(32,"Irm\xE3s"),m(),v(33,"option",23),b(34,"Jovens"),m(),v(35,"option",24),b(36,"Var\xF5es"),m(),v(37,"option",25),b(38,"Outros"),m()()()(),v(39,"div",26)(40,"div",9)(41,"label",27),b(42,"Url"),m(),T(43,"input",28),m()(),v(44,"div",29)(45,"div",9)(46,"label",30),b(47,"Tonalidade"),m(),T(48,"input",31),m()()(),v(49,"button",32),T(50,"i",33),b(51," Salvar "),m(),v(52,"span",34),q("click",function(){return r.reordenar()}),T(53,"i",35),b(54," Reordenar "),m(),v(55,"a",36),T(56,"i",37),b(57," Voltar "),m()(),v(58,"div",1)(59,"section",3)(60,"h4",4),b(61,"Letra da can\xE7\xE3o"),m(),v(62,"div")(63,"span",38),T(64,"i",39),m()()()(),v(65,"section",40)(66,"ul",41),ho(67,FA,23,12,"li",42,fo),m()()),t&2&&(F("formGroup",r.form),M(6),F("routerLink",$t(5,AA,r.id)),M(43),F("disabled",r.form.invalid),M(6),F("routerLink",xn(7,NA)),M(8),F("routerLink",$t(8,RA,r.id)),M(4),po(r.letras))},dependencies:[Ke,$e,Bn,Vn,qt,Gt,lt,ut,ct,jn,us,gn,mn,Hc,zo,qo],encapsulation:2})};var LA=e=>["/louvores","edit",e];function jA(e,n){e&1&&(v(0,"div",2)(1,"h4",10),b(2,"Formul\xE1rio de Edi\xE7\xE3o"),m()())}function VA(e,n){e&1&&(v(0,"label",6),b(1,"Letra"),m())}function $A(e,n){e&1&&(v(0,"div",4)(1,"div",5)(2,"label",11),b(3,"Notas"),m(),T(4,"input",12),m()(),v(5,"div",13)(6,"div",5)(7,"label",14),b(8,"Ordem"),m(),T(9,"input",15),m()(),v(10,"div",13)(11,"div",5)(12,"label",16),b(13,"Introdu\xE7\xE3o"),m(),v(14,"select",17)(15,"option",18),b(16,"N\xE3o"),m(),v(17,"option",18),b(18,"Sim"),m()()()()),e&2&&(M(15),F("ngValue",!1),M(2),F("ngValue",!0))}function BA(e,n){e&1&&b(0," Desligar Atalhos ")}function UA(e,n){e&1&&(T(0,"i",22),b(1," Ligar Atalhos "))}function HA(e,n){if(e&1){let t=rt();v(0,"a",19),T(1,"i",20),b(2," Voltar "),m(),v(3,"span",21),q("click",function(){le(t);let o=W();return ce(o.toogleLigarAtalhos())}),X(4,BA,1,0)(5,UA,2,0),m()}if(e&2){let t=W();F("routerLink",$t(2,LA,t.louvor_id)),M(4),oe(t.ligar_atalhos==!0?4:5)}}var qc=class e{constructor(n,t,r,o){this.fb=n;this.supabaseService=t;this.route=r;this.router=o;this.form=this.fb.group({ordem:[0,re.required],letra:["",re.required],notas:[""],is_intro:[!1],id:[""],louvor_id:[""]}),this.route.paramMap.subscribe(i=>{this.id=i.get("id")??"",this.louvor_id=i.get("louvor_id")??"",this.id&&this.carregaLetra()})}id="";louvor_id="";form;ligar_atalhos=!0;mostrar_controles=!0;onSubmit(){return h(this,null,function*(){if(this.form.valid){let n=this.form.value;n.id=this.id,n.louvor_id=this.louvor_id,n.letra=n.letra.trim().replace(/\n/g," ").replaceAll("  "," "),n.notas=n.notas.trim();try{let t=yield this.supabaseService.updateLetra(n);if(!t){console.error("Error updating letra:",t);return}this.carregaLetra()}catch(t){console.error("Error updating letra:",t)}}})}carregaLetra(){return h(this,null,function*(){if(this.id){let n=yield this.supabaseService.getLetraById(this.id);n?this.form.patchValue({louvor_id:this.louvor_id,id:this.id,ordem:n.ordem,letra:n.letra,notas:n.notas,is_intro:n.is_intro}):console.error("Error loading letra:",n)}})}toogleLigarAtalhos(){this.ligar_atalhos=!this.ligar_atalhos}toggoleMostrarControles(){debugger;this.mostrar_controles=!this.mostrar_controles}onKeyDown(n,t){if(!this.ligar_atalhos)return;let r=t.selectionStart,o=t.value;if(n.key==="+"||n.key==="-"||n.key==="*"||n.key==="/"){n.preventDefault();let i="",s=r,a=0;if(n.key==="+"){let u=prompt("Digite a nota musical:");if(u!==null&&u.trim()!==""){let d=o.charAt(r)||"";i=`{${d}|${u.trim()}}`,s=r+i.length,a=d?1:0}else return}else if(n.key==="-"){let u=prompt("Digite a nota musical:");if(u!==null&&u.trim()!==""){i=` ...{.|${u.trim()}}... `;let d=i.indexOf("}")+2;s=r+d}else return}else if(n.key==="*"){let u=prompt("Quantas vezes vai repetir?");if(u===null||u.trim()==="")return;i=` qq <span class='fw-bold text-danger'>Repetir (${u}X)</span>`,s=r+i.length+15}else if(n.key==="/"){let u=prompt("Digite a nota musical:");if(u!==null&&u.trim()!==""){i=` | ...{.|${u.trim()}}... `;let d=i.indexOf("}")+6;s=r+d}else return}let l=o.substring(0,r)+i+o.substring(r+a);t.value=l;let c=t.getAttribute("formControlName");c&&this.form.get(c)&&this.form.get(c)?.setValue(l),this.onSubmit(),setTimeout(()=>{t.selectionStart=t.selectionEnd=s,t.focus()},400)}}static \u0275fac=function(t){return new(t||e)(D($n),D(Ue),D(Ce),D(ge))};static \u0275cmp=be({type:e,selectors:[["app-letras-edit"]],decls:13,vars:6,consts:[["letraTextarea",""],[1,"mb-2",3,"ngSubmit","formGroup"],[1,"row","mb-2"],[1,"row","mb-2","g-2"],[1,"col-12"],[1,"form-group"],["for","letra"],["type","text","id","letra","formControlName","letra","rows","5",1,"form-control","fw-medium",3,"dblclick","keydown"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],[1,"m-0","text-primary"],["for","notas"],["type","text","id","notas","formControlName","notas",1,"form-control","fw-medium"],[1,"col-4"],["for","ordem"],["type","number","id","ordem","formControlName","ordem",1,"form-control","fw-medium"],["for","is_intro"],["id","is_intro","formControlName","is_intro",1,"form-control","form-select","fw-medium"],[3,"ngValue"],["accesskey","v",1,"btn","btn-outline-success","me-2",3,"routerLink"],[1,"fa-solid","fa-home","me-2"],["accesskey","d",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-keyboard","me-2"]],template:function(t,r){if(t&1){let o=rt();v(0,"form",1),q("ngSubmit",function(){return le(o),ce(r.onSubmit())}),X(1,jA,3,0,"div",2),v(2,"div",3)(3,"div",4)(4,"div",5),X(5,VA,2,0,"label",6),v(6,"textarea",7,0),q("dblclick",function(){return le(o),ce(r.toggoleMostrarControles())})("keydown",function(s){le(o);let a=gy(7);return ce(r.onKeyDown(s,a))}),m()()(),X(8,$A,19,2),m(),v(9,"button",8),T(10,"i",9),b(11," Salvar "),m(),X(12,HA,6,4),m()}t&2&&(F("formGroup",r.form),M(),oe(r.mostrar_controles==!0?1:-1),M(4),oe(r.mostrar_controles==!0?5:-1),M(3),oe(r.mostrar_controles==!0?8:-1),M(),F("disabled",r.form.invalid),M(3),oe(r.mostrar_controles==!0?12:-1))},dependencies:[Ke,$e,Bn,Vn,qt,Gt,lt,cs,ut,ct,jn,gn,mn],encapsulation:2})};var zA=e=>["/louvores","edit",e];function qA(e,n){e&1&&(v(0,"div",2)(1,"h4",11),b(2,"Formul\xE1rio de Cria\xE7\xE3o"),m()())}function GA(e,n){e&1&&(v(0,"label",6),b(1,"Letra"),m())}function WA(e,n){e&1&&(v(0,"div",4)(1,"div",5)(2,"label",12),b(3,"Notas"),m(),T(4,"input",13),m()(),v(5,"div",14)(6,"div",5)(7,"label",15),b(8,"Ordem"),m(),T(9,"input",16),m()(),v(10,"div",14)(11,"div",5)(12,"label",17),b(13,"Introdu\xE7\xE3o"),m(),v(14,"select",18)(15,"option",19),b(16,"N\xE3o"),m(),v(17,"option",19),b(18,"Sim"),m()()()()),e&2&&(M(15),F("ngValue",!1),M(2),F("ngValue",!0))}function ZA(e,n){if(e&1&&(v(0,"a",10),T(1,"i",20),b(2," Voltar "),m()),e&2){let t=W();F("routerLink",$t(1,zA,t.louvor_id))}}var Gc=class e{constructor(n,t,r,o){this.fb=n;this.supabaseService=t;this.route=r;this.router=o;this.form=this.fb.group({ordem:[0,re.required],letra:["",re.required],notas:[""],is_intro:[!1],louvor_id:[""]}),this.route.paramMap.subscribe(i=>{this.louvor_id=i.get("louvor_id")??""}),this.supabaseService.getQtdLetrasByLouvorId(this.louvor_id).then(i=>{this.qtdLetras=i,i==0?(i=1,this.form.patchValue({ordem:i,is_intro:!0,letra:"Introdu\xE7\xE3o"})):(i=i+1,this.form.patchValue({ordem:i}))})}louvor_id="";form;qtdLetras=0;mostrar_controles=!0;toggoleMostrarControles(){debugger;this.mostrar_controles=!this.mostrar_controles}onSubmit(){return h(this,null,function*(){let n=this.form.value;n.louvor_id=this.louvor_id,n.letra=n.letra.trim().replace(/\n/g," ").replaceAll("  "," "),n.notas=n.notas.trim();try{let t=yield this.supabaseService.addLetra(n);if(t==""){console.error("Error adding letra:",t);return}let r=t;this.router.navigate(["/louvores",n.louvor_id,"letras","edit",r])}catch(t){console.error("Error adding letra:",t)}})}static \u0275fac=function(t){return new(t||e)(D($n),D(Ue),D(Ce),D(ge))};static \u0275cmp=be({type:e,selectors:[["app-letras-add"]],decls:13,vars:6,consts:[["letraTextarea",""],[1,"mb-2",3,"ngSubmit","formGroup"],[1,"row","mb-2"],[1,"row","mb-2","g-2"],[1,"col-12"],[1,"form-group"],["for","letra"],["type","text","id","letra","formControlName","letra","rows","5",1,"form-control","fw-medium",3,"dblclick"],["accesskey","s","type","submit",1,"btn","btn-outline-primary","me-2",3,"disabled"],[1,"fa-solid","fa-floppy-disk","me-2"],["accesskey","v",1,"btn","btn-outline-success",3,"routerLink"],[1,"m-0","text-primary"],["for","notas"],["type","text","id","notas","formControlName","notas",1,"form-control","fw-medium"],[1,"col-4"],["for","ordem"],["type","number","id","ordem","formControlName","ordem",1,"form-control","fw-medium"],["for","is_intro"],["id","is_intro","formControlName","is_intro",1,"form-control","form-select","fw-medium"],[3,"ngValue"],[1,"fa-solid","fa-home","me-2"]],template:function(t,r){if(t&1){let o=rt();v(0,"form",1),q("ngSubmit",function(){return le(o),ce(r.onSubmit())}),X(1,qA,3,0,"div",2),v(2,"div",3)(3,"div",4)(4,"div",5),X(5,GA,2,0,"label",6),v(6,"textarea",7,0),q("dblclick",function(){return le(o),ce(r.toggoleMostrarControles())}),m()()(),X(8,WA,19,2),m(),v(9,"button",8),T(10,"i",9),b(11," Salvar "),m(),X(12,ZA,3,3,"a",10),m()}t&2&&(F("formGroup",r.form),M(),oe(r.mostrar_controles==!0?1:-1),M(4),oe(r.mostrar_controles==!0?5:-1),M(3),oe(r.mostrar_controles==!0?8:-1),M(),F("disabled",r.form.invalid),M(3),oe(r.mostrar_controles==!0?12:-1))},dependencies:[Ke,$e,Bn,Vn,qt,Gt,lt,cs,ut,ct,jn,gn,mn],encapsulation:2})};var Wc=class e{constructor(n){this.sanitizer=n}transform(n){let t=n.replaceAll(","," | ").replaceAll("+","<br>");return this.sanitizer.bypassSecurityTrustHtml(t)}static \u0275fac=function(t){return new(t||e)(D(Li,16))};static \u0275pipe=Ct({name:"formataIntro",type:e,pure:!0})};var Zc=class e{transform(n){return n.replace(/\{([^|]+)\|[^}]+\}/g,"$1")}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Ct({name:"limpaNotas",type:e,pure:!0})};function KA(e,n){e&1&&T(0,"i",4)}function YA(e,n){e&1&&T(0,"i",5)}function QA(e,n){if(e&1&&(v(0,"option",13),b(1),m()),e&2){let t=n.$implicit,r=W();F("value",t)("selected",t===r.tomOriginal),M(),fl("",t," ",t===r.tomOriginal?"(Original)":"","")}}function JA(e,n){if(e&1&&(T(0,"div",24),ot(1,"quebralinha"),ot(2,"formataNotas")),e&2){let t=W().$implicit,r=W();Ii("font-size",r.fontSize+"em"),F("innerHTML",it(2,5,it(1,3,t.letra)),Tn)}}function XA(e,n){if(e&1&&(T(0,"div",24),ot(1,"quebralinha"),ot(2,"limpaNotas")),e&2){let t=W().$implicit,r=W();Ii("font-size",r.fontSize+"em"),F("innerHTML",it(2,5,it(1,3,t.letra)),Tn)}}function eN(e,n){if(e&1&&(v(0,"div",23),T(1,"span",25),ot(2,"formataIntro"),m()),e&2){let t=W().$implicit,r=W();M(),Ii("font-size",r.fontSize+"em"),F("innerHTML",it(2,3,t.notas),Tn)}}function tN(e,n){if(e&1){let t=rt();v(0,"div",14),q("click",function(){le(t);let o=W();return ce(o.toggleScroll())}),v(1,"div",15)(2,"section",16)(3,"span",17),b(4),m(),v(5,"section")(6,"span",18),q("click",function(){le(t);let o=W();return ce(o.diminuirFonte())}),T(7,"img",19),m(),v(8,"span",20),q("click",function(){le(t);let o=W();return ce(o.aumentarFonte())}),T(9,"img",21),m()()(),X(10,JA,3,7,"div",22)(11,XA,3,7,"div",22)(12,eN,3,5,"div",23),m()()}if(e&2){let t=n.$implicit,r=W();M(4),go(" ",t.ordem," "),M(6),oe(r.mostrarNotas==!0?10:11),M(2),oe(t.notas.length>0?12:-1)}}var Kc=class e{constructor(n,t,r,o,i){this.supabaseService=n;this.route=t;this.router=r;this.renderer=o;this.cdr=i;this.route.paramMap.subscribe(a=>{this.id=a.get("id")??"",this.id&&(this.supabaseService.onLetraChanged(this.id,()=>{this.carregaLetra()}),this.carregaLetra())});let s=localStorage.getItem("fontSizeLS");this.fontSize=s?parseFloat(s):1.4,localStorage.setItem("fontSizeLS",this.fontSize.toString())}tons=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];mapaTons=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];tomOriginal="";tomSelecionado="";tomDoLouvor="";conferido=!1;mostrarNotas=!0;id="";Letras=[];LetrasOriginal=[];Apresentacao=[];fontSize=1;scrollInterval;scrollSpeed=60;scrollStep=1;isScrolling=!1;nomeDoLouvor="";carregaLetra(){return h(this,null,function*(){if(this.id){let n=yield this.supabaseService.getLetrasByLouvorId(this.id);if(n){this.LetrasOriginal=JSON.parse(JSON.stringify(n)),this.Letras=JSON.parse(JSON.stringify(n)),this.cdr.detectChanges();let t=yield this.supabaseService.getLouvorById(this.id);t&&(this.nomeDoLouvor=t.nome,this.tomOriginal=t.tom,this.tomSelecionado=t.tom,this.tomDoLouvor=t.tom,this.tomSelecionado=this.tomOriginal,this.conferido=t.conferido)}else console.error("Erro ao carregar letra:",n)}})}alterarTom(){let n=this.calcularSemitons(this.tomOriginal,this.tomSelecionado);console.log("[ALTERAR TOM] Transpondo de",this.tomOriginal,"para",this.tomSelecionado,`(${n} semitons)`),this.Letras=this.LetrasOriginal.map(t=>L(w({},t),{letra:this.transporLetra(t.letra,n)})),this.tomDoLouvor=this.tomSelecionado}calcularSemitons(n,t){let r=this.mapaTons.indexOf(n),o=this.mapaTons.indexOf(t);if(r===-1||o===-1)return 0;let i=o-r;return i>6&&(i-=12),i<-6&&(i+=12),i}transporLetra(n,t){return n.replace(/\{([^|]+)\|([A-G][b#]?m?(7|sus|dim|aug)?[^\}\s]*)\}/g,(r,o,i)=>{let s=this.transporAcorde(i,t);return`{${o}|${s}}`})}conferir(){this.id&&this.supabaseService.conferirLouvor(this.id,!this.conferido).then(()=>{this.conferido=!this.conferido}).catch(n=>{console.error("Erro ao conferir louvor:",n)})}transporAcorde(n,t){if(!n||!/[A-G]/.test(n[0]))return n;let r={"B#":"C",Cb:"B","E#":"F",Fb:"E","B##":"C#",Cbb:"A","E##":"F#",Fbb:"D"},o=/^([A-G](?:#|b|##|bb)?)(.*)$/,i=n.match(o);if(!i)return n;let[s,a,l]=i;r[a]&&(a=r[a]);let c=this.mapaTons.indexOf(a);if(c===-1)return n;let u=(c+t)%12;u<0&&(u+=12);let d=this.mapaTons[u],p=d;return d==="B#"&&!l.includes("dim")&&(p="C"),d==="E#"&&!l.includes("dim")&&(p="F"),d==="Cb"&&!l.includes("aug")&&(p="B"),d==="Fb"&&!l.includes("aug")&&(p="E"),p+l}get transposicaoAtual(){let n=this.calcularSemitons(this.tomOriginal,this.tomSelecionado);return n===0?"":n>0?`(+${n})`:`(${n})`}resetarTom(){this.tomSelecionado=this.tomOriginal,this.alterarTom()}aumentarFonte(){this.fontSize=parseFloat((this.fontSize+.2).toFixed(2)),localStorage.setItem("fontSizeLS",this.fontSize.toString())}diminuirFonte(){this.fontSize=parseFloat((this.fontSize-.2).toFixed(2)),localStorage.setItem("fontSizeLS",this.fontSize.toString())}iniciarScroll(){this.scrollInterval||(this.isScrolling=!0,this.scrollInterval=setInterval(()=>{window.scrollBy({top:this.scrollStep,behavior:"smooth"})},this.scrollSpeed))}pararScroll(){this.isScrolling=!1,clearInterval(this.scrollInterval),this.scrollInterval=null}aumentarVelocidade(){this.scrollSpeed>20&&(this.scrollSpeed-=20),this.reiniciarScroll()}diminuirVelocidade(){this.scrollSpeed<1200&&(this.scrollSpeed+=40),this.reiniciarScroll()}reiniciarScroll(){this.isScrolling&&(this.pararScroll(),this.iniciarScroll())}toggleScroll(){this.isScrolling?this.pararScroll():this.iniciarScroll()}toggleMostrarNotas(){this.mostrarNotas=!this.mostrarNotas}static \u0275fac=function(t){return new(t||e)(D(Ue),D(Ce),D(ge),D(bt),D(hn))};static \u0275cmp=be({type:e,selectors:[["app-letras-cantar"]],decls:22,vars:5,consts:[[1,"row","mb-2"],[1,"col-12","col-md-10","col-lg-8","col-xl-7","mx-auto"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fw-bold","text-primary","me-2",2,"font-size","1.5rem",3,"dblclick"],[1,"fa-solid","fa-check","text-success","fs-3"],[1,"fa-solid","fa-xmark","text-danger","fs-3"],[1,"row","mb-3"],[1,"d-flex","align-items-center"],["for","tomSelect",1,"me-2","fw-bold"],["id","tomSelect",1,"form-select","me-2",2,"width","auto",3,"ngModelChange","change","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","me-2",3,"click"],[1,"card","mb-2"],[3,"value","selected"],[1,"card","mb-2",3,"click"],[1,"card-body","p-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"no-select","fw-bold","text-black","m-0","cursor",2,"font-size","1.2rem"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],["src","./images/circle_minus.png","alt","+",1,"img-fluid",2,"width","1.1rem","height","1.1rem cursor"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["src","./images/circle_plus.png","alt","+",1,"img-fluid",2,"width","1.1rem","height","1.1rem cursor"],[1,"no-select","mb-1",2,"text-align","justify","font-size","1.9rem","font-weight","500","line-height","2.8rem",3,"innerHTML","font-size"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"no-select","mb-1",2,"text-align","justify","font-size","1.9rem","font-weight","500","line-height","2.8rem",3,"innerHTML"],[1,"no-select","fw-bold","text-primary","p-0","m-0",3,"innerHTML"]],template:function(t,r){t&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"section")(4,"span",3),q("dblclick",function(){return r.conferir()}),b(5),m(),X(6,KA,1,0,"i",4)(7,YA,1,0,"i",5),T(8,"section"),m()()()(),v(9,"div",6)(10,"div",1)(11,"div",7)(12,"label",8),b(13,"Tom:"),m(),v(14,"select",9),Mi("ngModelChange",function(i){return hl(r.tomSelecionado,i)||(r.tomSelecionado=i),i}),q("change",function(){return r.alterarTom()}),X(15,QA,2,4,"option",10),m(),v(16,"button",11),q("click",function(){return r.resetarTom()}),b(17,"Resetar"),m()()()(),v(18,"div",0)(19,"div",1),ho(20,tN,13,3,"div",12,fo),m()()),t&2&&(M(5),fl("",r.nomeDoLouvor," - ",r.transposicaoAtual,""),M(),oe(r.conferido==!0?6:7),M(8),Si("ngModel",r.tomSelecionado),M(),F("ngForOf",r.tons),M(5),po(r.Letras))},dependencies:[Nn,_l,gc,qt,Gt,ut,ct,ls,zo,Wc,qo,Zc],encapsulation:2})};var RD=[{path:"",component:Bc},{path:"louvores/add",component:Uc},{path:"louvores/edit/:id",component:zc},{path:"louvores/:louvor_id/letras/edit/:id",component:qc},{path:"louvores/:louvor_id/letras/add",component:Gc},{path:"louvores/cantar/:id",component:Kc},{path:"**",redirectTo:""}];var OD={providers:[Cy({eventCoalescing:!0}),Ih(RD)]};var nN=()=>["/"];function rN(e,n){e&1&&(v(0,"div",1)(1,"div",2)(2,"h3",3),b(3,"Louvores e Notas"),m(),v(4,"span",4),b(5,"Wellington Rogerio"),m()()()),e&2&&(M(2),F("routerLink",xn(1,nN)))}var Yc=class e{exibir=!0;constructor(){let n=localStorage.getItem("exibir");n?this.exibir=n==="s":(this.exibir=!0,localStorage.setItem("exibir","s"))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=be({type:e,selectors:[["app-home"]],decls:1,vars:1,consts:[["class","row mb-2",4,"ngIf"],[1,"row","mb-2"],[1,"col-12","text-center"],[1,"no-select","mb-0",3,"routerLink"],[1,"no-select","text-muted"]],template:function(t,r){t&1&&X(0,rN,6,2,"div",0),t&2&&F("ngIf",r.exibir)},dependencies:[Ke,$e,Nn,Ni],encapsulation:2})};var Qc=class e{title="Louvores Notas";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=be({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"canva_louvores","container","p-3"]],template:function(t,r){t&1&&(v(0,"div",0),T(1,"app-home")(2,"router-outlet"),m())},dependencies:[Ji,Yc],encapsulation:2})};Yf(Qc,OD).catch(e=>console.error(e));
